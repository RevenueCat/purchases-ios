{"primaryContentSections":[{"kind":"content","content":[{"anchor":"Xcode-version-requirements-and-updated-deployment-targets","level":3,"type":"heading","text":"Xcode version requirements and updated deployment targets"},{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"purchases-ios"},{"type":"text","text":" v4 requires using Xcode 13.2 or newer."},{"type":"text","text":" "},{"type":"text","text":"It also updates the minimum deployment targets for iOS, macOS and tvOS."}]},{"anchor":"Minimum-deployment-targets","level":5,"type":"heading","text":"Minimum deployment targets"},{"type":"table","rows":[[[{"type":"paragraph","inlineContent":[]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"v3"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"v4"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"iOS"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"9.0"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"11.0"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"tvOS"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"9.0"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"11.0"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"macOS"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"10.12"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"10.13"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"watchOS"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"6.2"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"6.2 (unchanged)"}]}]]],"header":"row"},{"anchor":"Migration-steps","level":2,"type":"heading","text":"Migration steps"},{"type":"paragraph","inlineContent":[{"type":"text","text":"To start us off, our framework name changed from "},{"type":"codeVoice","code":"Purchases"},{"type":"text","text":" to "},{"type":"codeVoice","code":"RevenueCat"},{"type":"text","text":"! ðŸ˜»  Youâ€™ll now need to explicitly import "},{"type":"codeVoice","code":"RevenueCat"},{"type":"text","text":" instead of "},{"type":"codeVoice","code":"Purchases"},{"type":"text","text":"."}]},{"anchor":"1.-Update-Framework-references","level":3,"type":"heading","text":"1. Update Framework references"},{"anchor":"Swift","level":5,"type":"heading","text":"Swift"},{"type":"table","rows":[[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Before"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"After"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"import Purchases"}]}],[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"import RevenueCat"}]}]]],"header":"row"},{"anchor":"Objective-C","level":5,"type":"heading","text":"Objective-C"},{"type":"table","rows":[[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Before"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"After"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"@import Purchases;"}]}],[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"@import RevenueCat;"}]}]]],"header":"row"},{"anchor":"1.1-Update-Swift-Package-Manager-dependency-(if-needed)","level":4,"type":"heading","text":"1.1 Update Swift Package Manager dependency (if needed)"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Select your target in Xcode, then go to Build Phases, and ensure that your targetâ€™s "},{"type":"codeVoice","code":"Link Binary with Libraries"},{"type":"text","text":" section"},{"type":"text","text":" "},{"type":"text","text":"references "},{"type":"codeVoice","code":"RevenueCat"},{"type":"text","text":", and remove the reference to "},{"type":"codeVoice","code":"Purchases"},{"type":"text","text":" if it was still there."}]},{"type":"table","rows":[[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Before"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"After"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"image","identifier":"link_binary_with_libraries_before_spm"}]}],[{"type":"paragraph","inlineContent":[{"type":"image","identifier":"link_binary_with_libraries_after_spm"}]}]]],"header":"row"},{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Note:"}]}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Due to an Xcode bug, you might run into a Workspace Integrity error after upgrading, with a message that looks like"},{"type":"text","text":" "},{"type":"codeVoice","code":"\"Couldn't load project PurchaseTester\""},{"type":"text","text":"."},{"type":"text","text":" "},{"type":"text","text":"If this happens, you can fix it with the following steps:"}]},{"type":"orderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"In Xcode, go to Product -> Clean Build Folder"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Quit and re-open Xcode"}]}]}]},{"anchor":"1.2-Update-CocoaPods-dependency-(if-needed)","level":4,"type":"heading","text":"1.2 Update CocoaPods dependency (if needed)"},{"type":"paragraph","inlineContent":[{"type":"text","text":"In your Podfile, update the reference to the Pod from "},{"type":"codeVoice","code":"Purchases"},{"type":"text","text":" to "},{"type":"codeVoice","code":"RevenueCat"},{"type":"text","text":"."}]},{"type":"table","rows":[[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Before"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"After"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"pod 'Purchases'"}]}],[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"pod 'RevenueCat'"}]}]]],"header":"row"},{"anchor":"1.3-Update-Carthage-Framework-(if-needed)","level":4,"type":"heading","text":"1.3 Update Carthage Framework (if needed)"},{"anchor":"1.3.1-Using-XCFrameworks-(recommended)","level":5,"type":"heading","text":"1.3.1 Using XCFrameworks (recommended)"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Select your target in Xcode, then go to Build Phases, and ensure that your targetâ€™s "},{"type":"codeVoice","code":"Link Binary with Libraries"},{"type":"text","text":" section"},{"type":"text","text":" "},{"type":"text","text":"references "},{"type":"codeVoice","code":"RevenueCat"},{"type":"text","text":", and remove the reference to "},{"type":"codeVoice","code":"Purchases"},{"type":"text","text":" if it was still there."},{"type":"text","text":" "},{"type":"text","text":"Do the same with the Embed Frameworks section."}]},{"type":"table","rows":[[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Before"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"After"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"image","identifier":"link_binary_with_libraries_before_carthage"}]}],[{"type":"paragraph","inlineContent":[{"type":"image","identifier":"link_binary_with_libraries_after_carthage"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"image","identifier":"embed_frameworks_before_carthage"}]}],[{"type":"paragraph","inlineContent":[{"type":"image","identifier":"embed_frameworks_after_carthage"}]}]]],"header":"row"},{"anchor":"1.3.2-Using-Platform-specific-frameworks","level":5,"type":"heading","text":"1.3.2 Using Platform-specific frameworks"},{"type":"paragraph","inlineContent":[{"type":"text","text":"We highly recommend moving into XCFrameworks, since these have a simpler setup and prevent compatibility issues with"},{"type":"text","text":" "},{"type":"text","text":"multi-platform setups."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Carthage has a "},{"type":"reference","isActive":true,"identifier":"https:\/\/github.com\/carthage\/carthage#migrating-a-project-from-framework-bundles-to-xcframeworks"},{"type":"text","text":"."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"After migrating into XCFrameworks, follow the steps outlined in 1.3.1 to set up the "},{"type":"codeVoice","code":"RevenueCat.xcframework"},{"type":"text","text":"."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"If you canâ€™t move into XCFrameworks, you will still need to update the "},{"type":"codeVoice","code":"Link Binary with Libraries"},{"type":"text","text":" phase as outlined"},{"type":"text","text":" "},{"type":"text","text":"in 1.3.1 (only using a "},{"type":"codeVoice","code":".framework"},{"type":"text","text":" instead of "},{"type":"codeVoice","code":".xcframework"},{"type":"text","text":")."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"After that, update the your "},{"type":"codeVoice","code":"input.xcfilelist"},{"type":"text","text":" and "},{"type":"codeVoice","code":"output.xcfilelist"},{"type":"text","text":" for the Run Script phase of Carthage frameworks,"},{"type":"text","text":" "},{"type":"text","text":"replacing "},{"type":"codeVoice","code":"Purchases.framework"},{"type":"text","text":" with "},{"type":"codeVoice","code":"RevenueCat.framework"},{"type":"text","text":"."}]},{"anchor":"2.-Update-code-references","level":2,"type":"heading","text":"2. Update code references"},{"anchor":"2.1-Automatic-Migration","level":3,"type":"heading","text":"2.1 Automatic Migration"},{"type":"paragraph","inlineContent":[{"type":"text","text":"When building your project using v4, Xcode should automatically provide one-click fixes methods and types that have been renamed. For the most part, the migration should be doable by just building and applying Xcodeâ€™s automatic fix-its when they pop up."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"If you see any issues or new APIs that fix-its didnâ€™t cover, weâ€™d appreciate "},{"type":"reference","isActive":true,"identifier":"https:\/\/github.com\/RevenueCat\/purchases-ios\/issues\/new?assignees=&labels=bug&template=bug_report.md&title="},{"type":"text","text":"!"}]},{"anchor":"2.2-Update-references-to-Purchases.foo-to-RevenueCat.foo","level":3,"type":"heading","text":"2.2 Update references to `Purchases.foo` to `RevenueCat.foo`"},{"type":"paragraph","inlineContent":[{"type":"text","text":"You might run into compilation errors with a message like "},{"type":"codeVoice","code":"Error: "},{"type":"text","text":"â€™_â€™ is not a member type of class â€˜RevenueCat.Purchasesâ€™`."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"The reason is that the class "},{"type":"codeVoice","code":"Purchases"},{"type":"text","text":" is no longer the parent of classes such as "},{"type":"codeVoice","code":"Offerings"},{"type":"text","text":"."},{"type":"text","text":" "},{"type":"text","text":"You should reference classes directly or as a child of "},{"type":"codeVoice","code":"RevenueCat"},{"type":"text","text":", e.g. "},{"type":"codeVoice","code":"RevenueCat.Offerings"},{"type":"text","text":" "},{"type":"text","text":"instead of "},{"type":"codeVoice","code":"Purchases.Offerings"},{"type":"text","text":". You can also omit the framework entirely, i.e.: just using "},{"type":"codeVoice","code":"Offerings"},{"type":"text","text":" directly."}]},{"anchor":"2.3-Import-StoreKit-(if-needed)","level":3,"type":"heading","text":"2.3 Import StoreKit (if needed)"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Our V3 SDK automatically imported "},{"type":"codeVoice","code":"StoreKit"},{"type":"text","text":" whenever you did "},{"type":"codeVoice","code":"import Purchases"},{"type":"text","text":". Due to Swift limitations, our"},{"type":"text","text":" "},{"type":"text","text":"V4 SDK doesnâ€™t do this automatically."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"So if youâ€™re referencing StoreKit types directly, you might need to add"},{"type":"text","text":" "},{"type":"codeVoice","code":"import StoreKit"},{"type":"text","text":" in Swift, and "},{"type":"codeVoice","code":"@import StoreKit;"},{"type":"text","text":" in Objective-C."}]},{"anchor":"2.4-Update-code-to-use-the-new-types-(if-needed)","level":3,"type":"heading","text":"2.4 Update code to use the new types (if needed)"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Step 2.1 should automatically help you convert your code into the new types. See the â€œNew Typesâ€ section for"},{"type":"text","text":" "},{"type":"text","text":"more information on what the new types introduce."}]},{"anchor":"2.5-Take-advantage-of-our-new-APIs","level":3,"type":"heading","text":"2.5 Take advantage of our new APIs"},{"type":"paragraph","inlineContent":[{"type":"text","text":"We introduced new features for Customer Support, as well as"},{"type":"text","text":" "},{"type":"reference","isActive":true,"identifier":"https:\/\/docs.swift.org\/swift-book\/LanguageGuide\/Concurrency.html"},{"type":"text","text":" for our APIs."},{"type":"text","text":" "},{"type":"text","text":"These are optional, but could help make your code more readable and easy to maintain."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Some additional changes include:"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Updated references of "},{"type":"codeVoice","code":"Purchaser"},{"type":"text","text":" to "},{"type":"codeVoice","code":"Customer"},{"type":"text","text":" to be more consistent across our platform"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Further abstraction away from "},{"type":"codeVoice","code":"StoreKit"},{"type":"text","text":" with new types."}]}]}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"See the â€œNew APIsâ€ section of this guide for more details."}]},{"anchor":"New-Types","level":2,"type":"heading","text":"New Types"},{"type":"paragraph","inlineContent":[{"type":"text","text":"To better support "},{"type":"codeVoice","code":"StoreKit 2"},{"type":"text","text":", "},{"type":"codeVoice","code":"RevenueCat v4"},{"type":"text","text":" introduces several new types to encapsulate data from "},{"type":"codeVoice","code":"StoreKit 1"},{"type":"text","text":" and "},{"type":"codeVoice","code":"StoreKit 2"},{"type":"text","text":":"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StoreProduct"},{"type":"text","text":": wraps a "},{"type":"codeVoice","code":"StoreKit.SKProduct"},{"type":"text","text":" or "},{"type":"codeVoice","code":"StoreKit.Product"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StoreTransaction"},{"type":"text","text":": wraps a "},{"type":"codeVoice","code":"StoreKit.SKPaymentTransaction"},{"type":"text","text":" or "},{"type":"codeVoice","code":"StoreKit.Transaction"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StoreProductDiscount"},{"type":"text","text":": wraps a "},{"type":"codeVoice","code":"StoreKit.SKProductDiscount"},{"type":"text","text":" or "},{"type":"codeVoice","code":"StoreKit.Product.SubscriptionOffer"}]}]}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"These types replace native StoreKit types in all public API methods that used them."}]},{"anchor":"ObjC-Changes","level":2,"type":"heading","text":"ObjC Changes"},{"anchor":"Type-changes","level":3,"type":"heading","text":"Type changes"},{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"@import Purchases"},{"type":"text","text":" is now "},{"type":"codeVoice","code":"@import RevenueCat"}]},{"type":"table","rows":[[[{"type":"paragraph","inlineContent":[{"type":"text","text":"v3"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"v4"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"RCPurchaserInfo"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"RCCustomerInfo"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"RCTransaction"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"RCStoreTransaction"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"RCTransaction.productId"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"RCStoreTransaction.productIdentifier"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"RCTransaction.revenueCatId"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"RCStoreTransaction.transactionIdentifier"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"RCPackage.product"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"RCPackage.storeProduct"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"(RCPurchasesErrorCode).RCOperationAlreadyInProgressError"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"RCOperationAlreadyInProgressForProductError"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"RCPurchasesErrorDomain"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"RCPurchasesErrorCodeDomain"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"RCBackendError"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"REMOVED"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"RCErrorUtils"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"REMOVED"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"RCBackendErrorDomain"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"REMOVED"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"RCFinishableKey"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"REMOVED"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"RCReceivePurchaserInfoBlock"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"REMOVED"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"RCReceiveIntroEligibilityBlock"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"REMOVED"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"RCReceiveOfferingsBlock"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"REMOVED"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"RCReceiveProductsBlock"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"REMOVED"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"RCPurchaseCompletedBlock"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"REMOVED"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"RCDeferredPromotionalPurchaseBlock"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"REMOVED"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"RCPaymentDiscountBlock"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"REMOVED"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"RCPaymentModeNone"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"REMOVED"}]}]]],"header":"row"},{"anchor":"PurchasesDelegate","level":4,"type":"heading","text":"PurchasesDelegate"},{"type":"table","rows":[[[{"type":"paragraph","inlineContent":[{"type":"text","text":"v3"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"v4"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"purchases:didReceiveUpdatedPurchaserInfo:"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"purchases:didReceiveUpdatedCustomerInfo:"}]}]]],"header":"row"},{"anchor":"API-changes","level":3,"type":"heading","text":"API changes"},{"type":"table","rows":[[[{"type":"paragraph","inlineContent":[{"type":"text","text":"v3"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"v4"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"purchaserInfoWithCompletion:"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"getCustomerInfoWithCompletion:"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"invalidatePurchaserInfoCache"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"invalidateCustomerInfoCache"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases -restoreTransactionsWithCompletion:"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases -restorePurchasesWithCompletion:"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases -offeringsWithCompletion:"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases -getOfferingsWithCompletion:"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases -productsWithIdentifiers:completion:"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases -getProductsWithIdentifiers:completion:"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases -paymentDiscountForProductDiscount:product:completion:"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"REMOVED - Check eligibility for a discount using "},{"type":"codeVoice","code":"getPromotionalOffer:forProductDiscount:product:completion:"},{"type":"text","text":", then pass the promotional offer directly to "},{"type":"codeVoice","code":"purchasePackage:withPromotionalOffer:completion:"},{"type":"text","text":" or "},{"type":"codeVoice","code":"purchaseProduct:withPromotionalOffer:completion:"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases -purchaseProduct("},{"type":"emphasis","inlineContent":[{"type":"text","text":":discount:"}]},{"type":"text","text":")"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases -purchaseProduct:withPromotionalOffer:completion:"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases -purchasePackage("},{"type":"emphasis","inlineContent":[{"type":"text","text":":discount:"}]},{"type":"text","text":")"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases -purchasePackage:withPromotionalOffer:completion:"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases -createAlias:"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases -logIn:"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases -identify:"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases -logIn:"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases -reset:"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases -logOut:"}]}]]],"header":"row"},{"anchor":"Swift-Changes","level":2,"type":"heading","text":"Swift Changes"},{"anchor":"Type-changes","level":3,"type":"heading","text":"Type changes"},{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"import Purchases"},{"type":"text","text":" is now "},{"type":"codeVoice","code":"import RevenueCat"}]},{"type":"table","rows":[[[{"type":"paragraph","inlineContent":[{"type":"text","text":"v3"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"v4"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases.Offering"}]}],[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Offering"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases.ErrorDomain"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"See error handling below"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases.ErrorCode.Code"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"See error handling below"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases.Package"}]}],[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Package"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases.PurchaserInfo"}]}],[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/CustomerInfo"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases.Transaction"}]}],[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StoreTransaction"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases.Transaction.productId"}]}],[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StoreTransaction\/productIdentifier"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases.Transaction.revenueCatId"}]}],[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StoreTransaction\/transactionIdentifier"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases.EntitlementInfo"}]}],[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/EntitlementInfo"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases.EntitlementInfos"}]}],[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/EntitlementInfos"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases.PeriodType"}]}],[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/PeriodType"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases.Store"}]}],[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Store"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"RCPurchaseOwnershipType"}]}],[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/PurchaseOwnershipType"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"RCAttributionNetwork"}]}],[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/AttributionNetwork"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"RCIntroEligibility"}]}],[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/IntroEligibility"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"RCIntroEligibilityStatus"}]}],[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/IntroEligibilityStatus"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"RCPaymentMode"}]}],[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StoreProductDiscount\/PaymentMode-swift.enum"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"RCPaymentModeNone"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"REMOVED"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases.LogLevel"}]}],[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/LogLevel"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases.Offerings"}]}],[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Offerings"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases.PackageType"}]}],[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/PackageType"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases.Errors"}]}],[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/ErrorCode"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases.ErrorCode"}]}],[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/ErrorCode"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Package.product"}]}],[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Package\/storeProduct"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Package.product.price: NSDecimalNumber"}]}],[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StoreProduct\/price"},{"type":"text","text":": Decimal"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Package.localizedIntroductoryPriceString: String"}]}],[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Package\/localizedIntroductoryPriceString"},{"type":"text","text":": String?"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"RCDeferredPromotionalPurchaseBlock"}]}],[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/DeferredPromotionalPurchaseBlock"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases.PurchaseCompletedBlock"}]}],[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/PurchaseCompletedBlock"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases.ReceivePurchaserInfoBlock"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"REMOVED"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases.ReceiveOfferingsBlock"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"REMOVED"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases.ReceiveProductsBlock"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"REMOVED"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases.PaymentDiscountBlock"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"REMOVED"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases.RevenueCatBackendErrorCode"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"REMOVED"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases.ErrorCode.operationAlreadyInProgressError"}]}],[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/ErrorCode\/operationAlreadyInProgressForProductError"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases.ErrorUtils"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"REMOVED"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"ReadableErrorCodeKey"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"REMOVED"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"RCFinishableKey"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"REMOVED"}]}]]],"header":"row"},{"anchor":"API-changes","level":3,"type":"heading","text":"API changes"},{"type":"table","rows":[[[{"type":"paragraph","inlineContent":[{"type":"text","text":"v3"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"v4"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"invalidatePurchaserInfoCache"}]}],[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/invalidateCustomerInfoCache()"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"logIn(_ appUserId:, _ completion:)"}]}],[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/logIn(_:completion:)"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"createAlias(_ alias:, _ completion:)"}]}],[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/logIn(_:completion:)"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"identify(_ appUserID:, _ completion:)"}]}],[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/logIn(_:completion:)"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"reset(completion:)"}]}],[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/logOut(completion:)"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"purchaserInfo(_ completion:)"}]}],[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/getCustomerInfo(completion:)"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"offerings(_ completion:)"}]}],[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/getOfferings(completion:)"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"products(_ productIdentifiers:, _ completion:)"}]}],[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/getProducts(_:completion:)"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"purchaseProduct(_ product:, _ completion:)"}]}],[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/purchase(product:completion:)"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"purchasePackage(_ package:, _ completion:)"}]}],[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/purchase(package:completion:)"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"restoreTransactions(_ completion:)"}]}],[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/restorePurchases(completion:)"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"syncPurchases(_ completion:)"}]}],[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/syncPurchases(completion:)"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"paymentDiscount(for:product:completion:)"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"REMOVED - Get eligibility for a discount using "},{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/promotionalOffer(forProductDiscount:product:)"},{"type":"text","text":", then pass the offer directly to "},{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/purchase(package:promotionalOffer:)"},{"type":"text","text":" or "},{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/purchase(product:promotionalOffer:)"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"purchaseProduct("},{"type":"emphasis","inlineContent":[{"type":"text","text":":discount:"}]},{"type":"text","text":")"}]}],[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/purchase(product:promotionalOffer:completion:)"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"purchasePackage("},{"type":"emphasis","inlineContent":[{"type":"text","text":":discount:"}]},{"type":"text","text":")"}]}],[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/purchase(package:promotionalOffer:completion:)"}]}]]],"header":"row"},{"anchor":"PurchasesDelegate","level":4,"type":"heading","text":"PurchasesDelegate"},{"type":"table","rows":[[[{"type":"paragraph","inlineContent":[{"type":"text","text":"v3"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"v4"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"purchases(_ purchases: Purchases, didReceiveUpdated purchaserInfo: PurchaserInfo)"}]}],[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/PurchasesDelegate\/purchases(_:receivedUpdated:)"}]}]]],"header":"row"},{"anchor":"Error-handling","level":3,"type":"heading","text":"Error handling"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Prior to the Swift migration, "},{"type":"codeVoice","code":"Purchases"},{"type":"text","text":" exposed errors as "},{"type":"codeVoice","code":"NSError"},{"type":"text","text":"s, so one could detect errors like this:"}]},{"type":"codeListing","syntax":"swift","code":["if error.domain == Purchases.ErrorDomain {","\tswitch Purchases.ErrorCode(_nsError: error).code {","\t\tcase .purchaseInvalidError: break","\t\tdefault: break","\t}","}"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Starting from Version 4, this becomes much simpler:"}]},{"type":"codeListing","syntax":"swift","code":["if let error = error as? RevenueCat.ErrorCode {","\tswitch error {","\t\tcase .purchaseInvalidError: break","\t\tdefault: break","\t}","} else {","\t\/\/ Error is a different type","}"]},{"anchor":"New-APIs","level":2,"type":"heading","text":"New APIs"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"All applicable methods have an "},{"overridingTitleInlineContent":[{"type":"text","text":"async\/await alternative"}],"isActive":true,"type":"reference","identifier":"https:\/\/docs.swift.org\/swift-book\/LanguageGuide\/Concurrency.html","overridingTitle":"async\/await alternative"},{"type":"text","text":"."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/showManageSubscriptions(completion:)"},{"type":"text","text":": Use this method to show the subscription management for the current user. Depending on where they made the purchase and their OS version, this might take them to the "},{"type":"codeVoice","code":"managementURL"},{"type":"text","text":", or open the iOS Subscription Management page."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"Purchases\/beginRefundRequestForActiveEntitlement()"},{"type":"text","text":": Use this method to begin a refund request for the purchase that granted the current entitlement."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"Purchases\/beginRefundRequest(forProduct:)"},{"type":"text","text":": Use this method to begin a refund request for a purchase, specifying the product identifier."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"Purchases\/beginRefundRequest(forEntitlement:)"},{"type":"text","text":": Use this method to begin a refund request for a purchase, specifying the entitlement identifier."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"You can now use "},{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/customerInfoStream"},{"type":"text","text":" to be notified whenever thereâ€™s new "},{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/CustomerInfo"},{"type":"text","text":" available,"},{"type":"text","text":" "},{"type":"text","text":"as an alternative to "},{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/PurchasesDelegate\/purchases(_:receivedUpdated:)"},{"type":"text","text":"."}]}]}]},{"anchor":"Reporting-undocumented-issues:","level":2,"type":"heading","text":"Reporting undocumented issues:"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Feel free to file an issue! "},{"type":"reference","isActive":true,"identifier":"https:\/\/github.com\/RevenueCat\/purchases-ios\/issues\/new\/"},{"type":"text","text":"."}]},{"anchor":"Known-Issues","level":2,"type":"heading","text":"Known Issues"},{"anchor":"ObjC-+-SPM","level":4,"type":"heading","text":"ObjC + SPM"},{"type":"paragraph","inlineContent":[{"type":"text","text":"If you expose any Purchases objects from one target to another (see "},{"type":"reference","isActive":true,"identifier":"https:\/\/github.com\/taquitos\/SPMBug"},{"type":"text","text":" "},{"type":"text","text":"for what this could look like), that second target will not build due to a missing autogenerated header."},{"type":"text","text":" "},{"type":"text","text":"Currently there is a known bug in SPM whereby Xcode either doesnâ€™t pass the RevenueCat ObjC generated interface to SPM,"},{"type":"text","text":" "},{"type":"text","text":"or SPM just doesnâ€™t integrate it. You can follow along: "},{"type":"reference","isActive":true,"identifier":"https:\/\/bugs.swift.org\/browse\/SR-15154"},{"type":"text","text":"."}]},{"anchor":"Workaround:","level":5,"type":"heading","text":"Workaround:"},{"type":"paragraph","inlineContent":[{"type":"text","text":"You must manually add the autogenerated file we committed to the repository"},{"type":"text","text":" "},{"type":"reference","isActive":true,"identifier":"https:\/\/github.com\/RevenueCat\/purchases-ios\/blob\/main\/Tests\/InstallationTests\/CommonFiles\/RevenueCat-Swift.h"},{"type":"text","text":" "},{"type":"text","text":"to your project, and "},{"type":"codeVoice","code":"#import RevenueCat-Swift.h"},{"type":"text","text":" in your bridging header. You can see how we do this in our"},{"type":"text","text":" "},{"type":"reference","isActive":true,"identifier":"https:\/\/github.com\/RevenueCat\/purchases-ios\/tree\/main\/Tests\/InstallationTests\/SPMInstallation"},{"type":"text","text":"."}]}]}],"schemaVersion":{"major":0,"minor":2,"patch":0},"sections":[],"variants":[{"paths":["\/documentation\/revenuecat\/v4_api_migration_guide"],"traits":[{"interfaceLanguage":"swift"}]}],"identifier":{"url":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/V4_API_Migration_guide","interfaceLanguage":"swift"},"abstract":[{"type":"text","text":"Migrating from Objective-C to Swift required a number of API changes, but we feel that the changes resulted in the SDK having a more natural feel for developers."}],"kind":"article","metadata":{"roleHeading":"Article","title":"RevenueCat V4 API Migration Guide","role":"article","modules":[{"name":"RevenueCat"}]},"hierarchy":{"paths":[["doc:\/\/RevenueCat\/documentation\/RevenueCat"]]},"references":{"doc://RevenueCat/documentation/RevenueCat/ErrorCode/operationAlreadyInProgressForProductError":{"role":"symbol","title":"ErrorCode.operationAlreadyInProgressForProductError","fragments":[{"kind":"keyword","text":"case"},{"kind":"text","text":" "},{"kind":"identifier","text":"operationAlreadyInProgressForProductError"}],"abstract":[],"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/ErrorCode\/operationAlreadyInProgressForProductError","kind":"symbol","type":"topic","url":"\/documentation\/revenuecat\/errorcode\/operationalreadyinprogressforproducterror"},"doc://RevenueCat/documentation/RevenueCat":{"role":"collection","title":"RevenueCat","abstract":[{"type":"text","text":"ðŸ˜» In-App Subscriptions Made Easy ðŸ˜»"}],"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat","kind":"symbol","type":"topic","url":"\/documentation\/revenuecat"},"doc://RevenueCat/documentation/RevenueCat/Package/storeProduct":{"role":"symbol","title":"storeProduct","fragments":[{"kind":"keyword","text":"let"},{"kind":"text","text":" "},{"kind":"identifier","text":"storeProduct"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"StoreProduct","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCStoreProduct"}],"abstract":[{"type":"text","text":"The underlying "},{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Package\/storeProduct"}],"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Package\/storeProduct","kind":"symbol","type":"topic","url":"\/documentation\/revenuecat\/package\/storeproduct"},"https://github.com/carthage/carthage#migrating-a-project-from-framework-bundles-to-xcframeworks":{"title":"migration guide to move into XCFrameworks available here","titleInlineContent":[{"type":"text","text":"migration guide to move into XCFrameworks available here"}],"type":"link","identifier":"https:\/\/github.com\/carthage\/carthage#migrating-a-project-from-framework-bundles-to-xcframeworks","url":"https:\/\/github.com\/carthage\/carthage#migrating-a-project-from-framework-bundles-to-xcframeworks"},"doc://RevenueCat/documentation/RevenueCat/Purchases/promotionalOffer(forProductDiscount:product:)":{"role":"symbol","title":"promotionalOffer(forProductDiscount:product:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"promotionalOffer"},{"kind":"text","text":"("},{"kind":"externalParam","text":"forProductDiscount"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"StoreProductDiscount","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCStoreProductDiscount"},{"kind":"text","text":", "},{"kind":"externalParam","text":"product"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"StoreProduct","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCStoreProduct"},{"kind":"text","text":") "},{"kind":"keyword","text":"async"},{"kind":"text","text":" "},{"kind":"keyword","text":"throws"},{"kind":"text","text":" -> "},{"kind":"typeIdentifier","text":"PromotionalOffer","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCPromotionalOffer"}],"abstract":[{"type":"text","text":"Use this method to find eligibility for this user for"},{"type":"text","text":" "},{"type":"reference","isActive":true,"identifier":"https:\/\/docs.revenuecat.com\/docs\/ios-subscription-offers#promotional-offers"},{"type":"text","text":"."}],"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/promotionalOffer(forProductDiscount:product:)","kind":"symbol","type":"topic","url":"\/documentation\/revenuecat\/purchases\/promotionaloffer(forproductdiscount:product:)"},"doc://RevenueCat/documentation/RevenueCat/Offering":{"role":"symbol","title":"Offering","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"Offering"}],"abstract":[{"type":"text","text":"An offering is a collection of "},{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Package"},{"type":"text","text":"s, and they let you control which products"},{"type":"text","text":" "},{"type":"text","text":"are shown to users without requiring an app update."}],"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Offering","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"Offering"}],"url":"\/documentation\/revenuecat\/offering"},"doc://RevenueCat/documentation/RevenueCat/PackageType":{"role":"symbol","title":"PackageType","fragments":[{"kind":"keyword","text":"enum"},{"kind":"text","text":" "},{"kind":"identifier","text":"PackageType"}],"abstract":[{"type":"text","text":"Enumeration of all possible "},{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Package"},{"type":"text","text":" types, as configured on the package."}],"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/PackageType","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"PackageType"}],"url":"\/documentation\/revenuecat\/packagetype"},"doc://RevenueCat/documentation/RevenueCat/PurchaseOwnershipType":{"role":"symbol","title":"PurchaseOwnershipType","fragments":[{"kind":"keyword","text":"enum"},{"kind":"text","text":" "},{"kind":"identifier","text":"PurchaseOwnershipType"}],"abstract":[{"type":"text","text":"The types used to describe whether a transaction was purchased by the user,"},{"type":"text","text":" "},{"type":"text","text":"or is available to them through Family Sharing."}],"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/PurchaseOwnershipType","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"PurchaseOwnershipType"}],"url":"\/documentation\/revenuecat\/purchaseownershiptype"},"doc://RevenueCat/documentation/RevenueCat/Purchases/showManageSubscriptions(completion:)":{"role":"symbol","title":"showManageSubscriptions(completion:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"showManageSubscriptions"},{"kind":"text","text":"("},{"kind":"externalParam","text":"completion"},{"kind":"text","text":": ("},{"kind":"typeIdentifier","text":"Error","preciseIdentifier":"s:s5ErrorP"},{"kind":"text","text":"?) -> "},{"kind":"typeIdentifier","text":"Void","preciseIdentifier":"s:s4Voida"},{"kind":"text","text":")"}],"abstract":[{"type":"text","text":"Use this function to open the manage subscriptions page."}],"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/showManageSubscriptions(completion:)","kind":"symbol","type":"topic","url":"\/documentation\/revenuecat\/purchases\/showmanagesubscriptions(completion:)"},"doc://RevenueCat/documentation/RevenueCat/Purchases/restorePurchases(completion:)":{"role":"symbol","title":"restorePurchases(completion:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"restorePurchases"},{"kind":"text","text":"("},{"kind":"externalParam","text":"completion"},{"kind":"text","text":": (("},{"kind":"typeIdentifier","text":"CustomerInfo","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCCustomerInfo"},{"kind":"text","text":"?, "},{"kind":"typeIdentifier","text":"Error","preciseIdentifier":"s:s5ErrorP"},{"kind":"text","text":"?) -> "},{"kind":"typeIdentifier","text":"Void","preciseIdentifier":"s:s4Voida"},{"kind":"text","text":")?)"}],"abstract":[{"type":"text","text":"This method will post all purchases associated with the current App Store account to RevenueCat and become"},{"type":"text","text":" "},{"type":"text","text":"associated with the current "},{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/appUserID"},{"type":"text","text":". If the receipt is being used by an existing user, the current"},{"type":"text","text":" "},{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/appUserID"},{"type":"text","text":" will be aliased together with the "},{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/appUserID"},{"type":"text","text":" of the existing user."},{"type":"text","text":" "},{"type":"text","text":"Going forward, either "},{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/appUserID"},{"type":"text","text":" will be able to reference the same user."}],"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/restorePurchases(completion:)","kind":"symbol","type":"topic","url":"\/documentation\/revenuecat\/purchases\/restorepurchases(completion:)"},"https://docs.revenuecat.com/docs/ios-subscription-offers#promotional-offers":{"title":"iOS Promotional Offers","titleInlineContent":[{"type":"text","text":"iOS Promotional Offers"}],"type":"link","identifier":"https:\/\/docs.revenuecat.com\/docs\/ios-subscription-offers#promotional-offers","url":"https:\/\/docs.revenuecat.com\/docs\/ios-subscription-offers#promotional-offers"},"doc://RevenueCat/documentation/RevenueCat/Purchases/purchase(product:completion:)":{"role":"symbol","title":"purchase(product:completion:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"purchase"},{"kind":"text","text":"("},{"kind":"externalParam","text":"product"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"StoreProduct","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCStoreProduct"},{"kind":"text","text":", "},{"kind":"externalParam","text":"completion"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"PurchaseCompletedBlock","preciseIdentifier":"s:10RevenueCat22PurchaseCompletedBlocka"},{"kind":"text","text":")"}],"abstract":[{"type":"text","text":"Initiates a purchase of a "},{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StoreProduct"},{"type":"text","text":"."}],"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/purchase(product:completion:)","kind":"symbol","type":"topic","url":"\/documentation\/revenuecat\/purchases\/purchase(product:completion:)"},"doc://RevenueCat/documentation/RevenueCat/Purchases/logOut(completion:)":{"role":"symbol","title":"logOut(completion:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"logOut"},{"kind":"text","text":"("},{"kind":"externalParam","text":"completion"},{"kind":"text","text":": (("},{"kind":"typeIdentifier","text":"CustomerInfo","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCCustomerInfo"},{"kind":"text","text":"?, "},{"kind":"typeIdentifier","text":"Error","preciseIdentifier":"s:s5ErrorP"},{"kind":"text","text":"?) -> "},{"kind":"typeIdentifier","text":"Void","preciseIdentifier":"s:s4Voida"},{"kind":"text","text":")?)"}],"abstract":[{"type":"text","text":"Logs out the "},{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases"},{"type":"text","text":" client, clearing the saved "},{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/appUserID"},{"type":"text","text":"."}],"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/logOut(completion:)","kind":"symbol","type":"topic","url":"\/documentation\/revenuecat\/purchases\/logout(completion:)"},"doc://RevenueCat/documentation/RevenueCat/StoreProductDiscount":{"role":"symbol","title":"StoreProductDiscount","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"StoreProductDiscount"}],"abstract":[{"type":"text","text":"Type that wraps "},{"type":"codeVoice","code":"StoreKit.Product.SubscriptionOffer"},{"type":"text","text":" and "},{"type":"codeVoice","code":"SKProductDiscount"},{"type":"text","text":" "},{"type":"text","text":"and provides access to their properties."},{"type":"text","text":" "},{"type":"text","text":"Information about a subscription offer that you configured in App Store Connect."}],"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StoreProductDiscount","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"StoreProductDiscount"}],"url":"\/documentation\/revenuecat\/storeproductdiscount"},"doc://RevenueCat/documentation/RevenueCat/Purchases/getCustomerInfo(completion:)":{"role":"symbol","title":"getCustomerInfo(completion:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"getCustomerInfo"},{"kind":"text","text":"("},{"kind":"externalParam","text":"completion"},{"kind":"text","text":": ("},{"kind":"typeIdentifier","text":"CustomerInfo","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCCustomerInfo"},{"kind":"text","text":"?, "},{"kind":"typeIdentifier","text":"Error","preciseIdentifier":"s:s5ErrorP"},{"kind":"text","text":"?) -> "},{"kind":"typeIdentifier","text":"Void","preciseIdentifier":"s:s4Voida"},{"kind":"text","text":")"}],"abstract":[{"type":"text","text":"Get latest available customer  info."}],"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/getCustomerInfo(completion:)","kind":"symbol","type":"topic","url":"\/documentation\/revenuecat\/purchases\/getcustomerinfo(completion:)"},"doc://RevenueCat/documentation/RevenueCat/Purchases/getOfferings(completion:)":{"role":"symbol","title":"getOfferings(completion:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"getOfferings"},{"kind":"text","text":"("},{"kind":"externalParam","text":"completion"},{"kind":"text","text":": ("},{"kind":"typeIdentifier","text":"Offerings","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCOfferings"},{"kind":"text","text":"?, "},{"kind":"typeIdentifier","text":"Error","preciseIdentifier":"s:s5ErrorP"},{"kind":"text","text":"?) -> "},{"kind":"typeIdentifier","text":"Void","preciseIdentifier":"s:s4Voida"},{"kind":"text","text":")"}],"abstract":[{"type":"text","text":"Fetch the configured "},{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Offerings"},{"type":"text","text":" for this user."}],"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/getOfferings(completion:)","kind":"symbol","type":"topic","url":"\/documentation\/revenuecat\/purchases\/getofferings(completion:)"},"doc://RevenueCat/documentation/RevenueCat/Purchases/purchase(package:promotionalOffer:)":{"role":"symbol","title":"purchase(package:promotionalOffer:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"purchase"},{"kind":"text","text":"("},{"kind":"externalParam","text":"package"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Package","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCPackage"},{"kind":"text","text":", "},{"kind":"externalParam","text":"promotionalOffer"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"PromotionalOffer","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCPromotionalOffer"},{"kind":"text","text":") "},{"kind":"keyword","text":"async"},{"kind":"text","text":" "},{"kind":"keyword","text":"throws"},{"kind":"text","text":" -> "},{"kind":"typeIdentifier","text":"PurchaseResultData","preciseIdentifier":"s:10RevenueCat18PurchaseResultDataa"}],"abstract":[{"type":"text","text":"Purchase the passed "},{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Package"},{"type":"text","text":"."},{"type":"text","text":" "},{"type":"text","text":"Call this method when a user has decided to purchase a product with an applied discount. Only call this in"},{"type":"text","text":" "},{"type":"text","text":"direct response to user input. From here "},{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases"},{"type":"text","text":" will handle the purchase with "},{"type":"codeVoice","code":"StoreKit"},{"type":"text","text":" and call the"},{"type":"text","text":" "},{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/PurchaseCompletedBlock"},{"type":"text","text":"."}],"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/purchase(package:promotionalOffer:)","kind":"symbol","type":"topic","url":"\/documentation\/revenuecat\/purchases\/purchase(package:promotionaloffer:)"},"doc://RevenueCat/documentation/RevenueCat/Package":{"role":"symbol","title":"Package","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"Package"}],"abstract":[{"type":"text","text":"Packages help abstract platform-specific products by grouping equivalent products across iOS, Android, and web."},{"type":"text","text":" "},{"type":"text","text":"A package is made up of three parts: "},{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Package\/identifier"},{"type":"text","text":", "},{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Package\/packageType"},{"type":"text","text":", and underlying "},{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StoreProduct"},{"type":"text","text":"."}],"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Package","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"Package"}],"url":"\/documentation\/revenuecat\/package"},"doc://RevenueCat/documentation/RevenueCat/StoreTransaction/transactionIdentifier":{"role":"symbol","title":"transactionIdentifier","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"transactionIdentifier"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"}],"abstract":[],"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StoreTransaction\/transactionIdentifier","kind":"symbol","type":"topic","url":"\/documentation\/revenuecat\/storetransaction\/transactionidentifier"},"doc://RevenueCat/documentation/RevenueCat/Purchases/invalidateCustomerInfoCache()":{"role":"symbol","title":"invalidateCustomerInfoCache()","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"invalidateCustomerInfoCache"},{"kind":"text","text":"()"}],"abstract":[{"type":"text","text":"Invalidates the cache for customer information."}],"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/invalidateCustomerInfoCache()","kind":"symbol","type":"topic","url":"\/documentation\/revenuecat\/purchases\/invalidatecustomerinfocache()"},"doc://RevenueCat/documentation/RevenueCat/Package/identifier":{"role":"symbol","title":"identifier","fragments":[{"kind":"keyword","text":"let"},{"kind":"text","text":" "},{"kind":"identifier","text":"identifier"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"}],"abstract":[{"type":"text","text":"The identifier for this Package."}],"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Package\/identifier","kind":"symbol","type":"topic","url":"\/documentation\/revenuecat\/package\/identifier"},"doc://RevenueCat/documentation/RevenueCat/StoreTransaction/productIdentifier":{"role":"symbol","title":"productIdentifier","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"productIdentifier"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"}],"abstract":[],"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StoreTransaction\/productIdentifier","kind":"symbol","type":"topic","url":"\/documentation\/revenuecat\/storetransaction\/productidentifier"},"doc://RevenueCat/documentation/RevenueCat/EntitlementInfos":{"role":"symbol","title":"EntitlementInfos","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"EntitlementInfos"}],"abstract":[{"type":"text","text":"This class contains all the entitlements associated to the user."}],"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/EntitlementInfos","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"EntitlementInfos"}],"url":"\/documentation\/revenuecat\/entitlementinfos"},"doc://RevenueCat/documentation/RevenueCat/Offerings":{"role":"symbol","title":"Offerings","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"Offerings"}],"abstract":[{"type":"text","text":"This class contains all the offerings configured in RevenueCat dashboard."},{"type":"text","text":" "},{"type":"text","text":"Offerings let you control which products are shown to users without requiring an app update."}],"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Offerings","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"Offerings"}],"url":"\/documentation\/revenuecat\/offerings"},"doc://RevenueCat/documentation/RevenueCat/PurchasesDelegate/purchases(_:receivedUpdated:)":{"role":"symbol","title":"purchases(_:receivedUpdated:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"purchases"},{"kind":"text","text":"("},{"kind":"typeIdentifier","text":"Purchases","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCPurchases"},{"kind":"text","text":", "},{"kind":"externalParam","text":"receivedUpdated"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"CustomerInfo","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCCustomerInfo"},{"kind":"text","text":")"}],"abstract":[{"type":"text","text":"Called whenever "},{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases"},{"type":"text","text":" receives updated customer info. This may happen periodically"},{"type":"text","text":" "},{"type":"text","text":"throughout the life of the app if new information becomes available (e.g. UIApplicationDidBecomeActive).*"}],"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/PurchasesDelegate\/purchases(_:receivedUpdated:)","kind":"symbol","required":true,"type":"topic","url":"\/documentation\/revenuecat\/purchasesdelegate\/purchases(_:receivedupdated:)"},"doc://RevenueCat/documentation/RevenueCat/EntitlementInfo":{"role":"symbol","title":"EntitlementInfo","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"EntitlementInfo"}],"abstract":[{"type":"text","text":"The EntitlementInfo object gives you access to all of the information about the status of a user entitlement."}],"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/EntitlementInfo","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"EntitlementInfo"}],"url":"\/documentation\/revenuecat\/entitlementinfo"},"doc://RevenueCat/documentation/RevenueCat/IntroEligibilityStatus":{"role":"symbol","title":"IntroEligibilityStatus","fragments":[{"kind":"keyword","text":"enum"},{"kind":"text","text":" "},{"kind":"identifier","text":"IntroEligibilityStatus"}],"abstract":[{"type":"text","text":"Enum of different possible states for intro price eligibility status."}],"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/IntroEligibilityStatus","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"IntroEligibilityStatus"}],"url":"\/documentation\/revenuecat\/introeligibilitystatus"},"doc://RevenueCat/documentation/RevenueCat/AttributionNetwork":{"role":"symbol","title":"AttributionNetwork","fragments":[{"kind":"keyword","text":"enum"},{"kind":"text","text":" "},{"kind":"identifier","text":"AttributionNetwork"}],"abstract":[{"type":"text","text":"Enum of supported attribution networks"}],"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/AttributionNetwork","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"AttributionNetwork"}],"url":"\/documentation\/revenuecat\/attributionnetwork"},"doc://RevenueCat/documentation/RevenueCat/Purchases/purchase(product:promotionalOffer:completion:)":{"role":"symbol","title":"purchase(product:promotionalOffer:completion:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"purchase"},{"kind":"text","text":"("},{"kind":"externalParam","text":"product"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"StoreProduct","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCStoreProduct"},{"kind":"text","text":", "},{"kind":"externalParam","text":"promotionalOffer"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"PromotionalOffer","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCPromotionalOffer"},{"kind":"text","text":", "},{"kind":"externalParam","text":"completion"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"PurchaseCompletedBlock","preciseIdentifier":"s:10RevenueCat22PurchaseCompletedBlocka"},{"kind":"text","text":")"}],"abstract":[{"type":"text","text":"Initiates a purchase of a "},{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StoreProduct"},{"type":"text","text":" with a "},{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/PromotionalOffer"},{"type":"text","text":"."}],"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/purchase(product:promotionalOffer:completion:)","kind":"symbol","type":"topic","url":"\/documentation\/revenuecat\/purchases\/purchase(product:promotionaloffer:completion:)"},"doc://RevenueCat/documentation/RevenueCat/Purchases/customerInfoStream":{"role":"symbol","title":"customerInfoStream","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"customerInfoStream"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"AsyncStream","preciseIdentifier":"s:ScS"},{"kind":"text","text":"<"},{"kind":"typeIdentifier","text":"CustomerInfo","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCCustomerInfo"},{"kind":"text","text":">"}],"abstract":[{"type":"text","text":"Returns an "},{"type":"codeVoice","code":"AsyncStream"},{"type":"text","text":" of "},{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/CustomerInfo"},{"type":"text","text":" changes, starting from the last known value."}],"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/customerInfoStream","kind":"symbol","type":"topic","url":"\/documentation\/revenuecat\/purchases\/customerinfostream"},"doc://RevenueCat/documentation/RevenueCat/Purchases/shouldPurchasePromoProduct(_:defermentBlock:)":{"role":"symbol","title":"shouldPurchasePromoProduct(_:defermentBlock:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"shouldPurchasePromoProduct"},{"kind":"text","text":"("},{"kind":"typeIdentifier","text":"StoreProduct","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCStoreProduct"},{"kind":"text","text":", "},{"kind":"externalParam","text":"defermentBlock"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"DeferredPromotionalPurchaseBlock","preciseIdentifier":"s:10RevenueCat32DeferredPromotionalPurchaseBlocka"},{"kind":"text","text":")"}],"abstract":[{"type":"text","text":"Called when a user initiates a promotional in-app purchase from the App Store."}],"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/shouldPurchasePromoProduct(_:defermentBlock:)","kind":"symbol","type":"topic","url":"\/documentation\/revenuecat\/purchases\/shouldpurchasepromoproduct(_:defermentblock:)"},"doc://RevenueCat/documentation/RevenueCat/Package/packageType":{"role":"symbol","title":"packageType","fragments":[{"kind":"keyword","text":"let"},{"kind":"text","text":" "},{"kind":"identifier","text":"packageType"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"PackageType","preciseIdentifier":"c:@M@RevenueCat@E@RCPackageType"}],"abstract":[{"type":"text","text":"The type configured for this package."}],"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Package\/packageType","kind":"symbol","type":"topic","url":"\/documentation\/revenuecat\/package\/packagetype"},"doc://RevenueCat/documentation/RevenueCat/StoreProduct":{"role":"symbol","title":"StoreProduct","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"StoreProduct"}],"abstract":[{"type":"text","text":"Type that provides access to all of "},{"type":"codeVoice","code":"StoreKit"},{"type":"text","text":"â€˜s product typeâ€™s properties."}],"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StoreProduct","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"StoreProduct"}],"url":"\/documentation\/revenuecat\/storeproduct"},"doc://RevenueCat/documentation/RevenueCat/StoreProduct/priceFormatter":{"role":"symbol","title":"priceFormatter","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"priceFormatter"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"NumberFormatter","preciseIdentifier":"c:objc(cs)NSNumberFormatter"},{"kind":"text","text":"?"}],"abstract":[],"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StoreProduct\/priceFormatter","kind":"symbol","type":"topic","url":"\/documentation\/revenuecat\/storeproduct\/priceformatter"},"https://github.com/RevenueCat/purchases-ios/issues/new?assignees=&labels=bug&template=bug_report.md&title=":{"title":"bug reports","titleInlineContent":[{"type":"text","text":"bug reports"}],"type":"link","identifier":"https:\/\/github.com\/RevenueCat\/purchases-ios\/issues\/new?assignees=&labels=bug&template=bug_report.md&title=","url":"https:\/\/github.com\/RevenueCat\/purchases-ios\/issues\/new?assignees=&labels=bug&template=bug_report.md&title="},"doc://RevenueCat/documentation/RevenueCat/PromotionalOffer":{"role":"symbol","title":"PromotionalOffer","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"PromotionalOffer"}],"abstract":[{"type":"text","text":"Represents a "},{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StoreProductDiscount"},{"type":"text","text":" that has been validated and"},{"type":"text","text":" "},{"type":"text","text":"is ready to be used for a purchase."}],"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/PromotionalOffer","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"PromotionalOffer"}],"url":"\/documentation\/revenuecat\/promotionaloffer"},"doc://RevenueCat/documentation/RevenueCat/Purchases/purchase(package:completion:)":{"role":"symbol","title":"purchase(package:completion:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"purchase"},{"kind":"text","text":"("},{"kind":"externalParam","text":"package"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Package","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCPackage"},{"kind":"text","text":", "},{"kind":"externalParam","text":"completion"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"PurchaseCompletedBlock","preciseIdentifier":"s:10RevenueCat22PurchaseCompletedBlocka"},{"kind":"text","text":")"}],"abstract":[{"type":"text","text":"Initiates a purchase of a "},{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Package"},{"type":"text","text":"."}],"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/purchase(package:completion:)","kind":"symbol","type":"topic","url":"\/documentation\/revenuecat\/purchases\/purchase(package:completion:)"},"doc://RevenueCat/documentation/RevenueCat/Purchases/syncPurchases(completion:)":{"role":"symbol","title":"syncPurchases(completion:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"syncPurchases"},{"kind":"text","text":"("},{"kind":"externalParam","text":"completion"},{"kind":"text","text":": (("},{"kind":"typeIdentifier","text":"CustomerInfo","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCCustomerInfo"},{"kind":"text","text":"?, "},{"kind":"typeIdentifier","text":"Error","preciseIdentifier":"s:s5ErrorP"},{"kind":"text","text":"?) -> "},{"kind":"typeIdentifier","text":"Void","preciseIdentifier":"s:s4Voida"},{"kind":"text","text":")?)"}],"abstract":[{"type":"text","text":"This method will post all purchases associated with the current App Store account to RevenueCat and"},{"type":"text","text":" "},{"type":"text","text":"become associated with the current "},{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/appUserID"},{"type":"text","text":"."}],"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/syncPurchases(completion:)","kind":"symbol","type":"topic","url":"\/documentation\/revenuecat\/purchases\/syncpurchases(completion:)"},"doc://RevenueCat/documentation/RevenueCat/Purchases/purchase(package:promotionalOffer:completion:)":{"role":"symbol","title":"purchase(package:promotionalOffer:completion:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"purchase"},{"kind":"text","text":"("},{"kind":"externalParam","text":"package"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Package","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCPackage"},{"kind":"text","text":", "},{"kind":"externalParam","text":"promotionalOffer"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"PromotionalOffer","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCPromotionalOffer"},{"kind":"text","text":", "},{"kind":"externalParam","text":"completion"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"PurchaseCompletedBlock","preciseIdentifier":"s:10RevenueCat22PurchaseCompletedBlocka"},{"kind":"text","text":")"}],"abstract":[{"type":"text","text":"Purchase the passed "},{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Package"},{"type":"text","text":"."},{"type":"text","text":" "},{"type":"text","text":"Call this method when a user has decided to purchase a product with an applied discount. Only call this in"},{"type":"text","text":" "},{"type":"text","text":"direct response to user input. From here "},{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases"},{"type":"text","text":" will handle the purchase with "},{"type":"codeVoice","code":"StoreKit"},{"type":"text","text":" and call the"},{"type":"text","text":" "},{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/PurchaseCompletedBlock"},{"type":"text","text":"."}],"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/purchase(package:promotionalOffer:completion:)","kind":"symbol","type":"topic","url":"\/documentation\/revenuecat\/purchases\/purchase(package:promotionaloffer:completion:)"},"embed_frameworks_before_carthage":{"alt":"embed frameworks before","type":"image","identifier":"embed_frameworks_before_carthage","variants":[{"url":"\/images\/embed_frameworks_before_carthage.png","traits":["1x","light"]}]},"doc://RevenueCat/documentation/RevenueCat/LogLevel":{"role":"symbol","title":"LogLevel","fragments":[{"kind":"keyword","text":"enum"},{"kind":"text","text":" "},{"kind":"identifier","text":"LogLevel"}],"abstract":[{"type":"text","text":"Enumeration of the different verbosity levels."}],"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/LogLevel","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"LogLevel"}],"url":"\/documentation\/revenuecat\/loglevel"},"doc://RevenueCat/documentation/RevenueCat/StoreProduct/introductoryDiscount":{"role":"symbol","title":"introductoryDiscount","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"introductoryDiscount"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"StoreProductDiscount","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCStoreProductDiscount"},{"kind":"text","text":"?"}],"abstract":[],"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StoreProduct\/introductoryDiscount","kind":"symbol","type":"topic","url":"\/documentation\/revenuecat\/storeproduct\/introductorydiscount"},"https://github.com/RevenueCat/purchases-ios/tree/main/Tests/InstallationTests/SPMInstallation":{"title":"SPMInstallationTests project","titleInlineContent":[{"type":"text","text":"SPMInstallationTests project"}],"type":"link","identifier":"https:\/\/github.com\/RevenueCat\/purchases-ios\/tree\/main\/Tests\/InstallationTests\/SPMInstallation","url":"https:\/\/github.com\/RevenueCat\/purchases-ios\/tree\/main\/Tests\/InstallationTests\/SPMInstallation"},"doc://RevenueCat/documentation/RevenueCat/Store":{"role":"symbol","title":"Store","fragments":[{"kind":"keyword","text":"enum"},{"kind":"text","text":" "},{"kind":"identifier","text":"Store"}],"abstract":[{"type":"text","text":"Enum of supported stores"}],"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Store","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"Store"}],"url":"\/documentation\/revenuecat\/store"},"doc://RevenueCat/documentation/RevenueCat/ErrorCode":{"role":"symbol","title":"ErrorCode","fragments":[{"kind":"keyword","text":"enum"},{"kind":"text","text":" "},{"kind":"identifier","text":"ErrorCode"}],"abstract":[{"type":"text","text":"Error codes used by the Purchases SDK"}],"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/ErrorCode","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"ErrorCode"}],"url":"\/documentation\/revenuecat\/errorcode"},"doc://RevenueCat/documentation/RevenueCat/Purchases/logIn(_:completion:)":{"role":"symbol","title":"logIn(_:completion:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"logIn"},{"kind":"text","text":"("},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"kind":"text","text":", "},{"kind":"externalParam","text":"completion"},{"kind":"text","text":": ("},{"kind":"typeIdentifier","text":"CustomerInfo","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCCustomerInfo"},{"kind":"text","text":"?, "},{"kind":"typeIdentifier","text":"Bool","preciseIdentifier":"s:Sb"},{"kind":"text","text":", "},{"kind":"typeIdentifier","text":"Error","preciseIdentifier":"s:s5ErrorP"},{"kind":"text","text":"?) -> "},{"kind":"typeIdentifier","text":"Void","preciseIdentifier":"s:s4Voida"},{"kind":"text","text":")"}],"abstract":[{"type":"text","text":"This function will log in the current user with an "},{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/appUserID"},{"type":"text","text":"."}],"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/logIn(_:completion:)","kind":"symbol","type":"topic","url":"\/documentation\/revenuecat\/purchases\/login(_:completion:)"},"doc://RevenueCat/documentation/RevenueCat/IntroEligibility":{"role":"symbol","title":"IntroEligibility","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"IntroEligibility"}],"abstract":[{"type":"text","text":"Holds the introductory price status"}],"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/IntroEligibility","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"IntroEligibility"}],"url":"\/documentation\/revenuecat\/introeligibility"},"https://github.com/taquitos/SPMBug":{"title":"example project","titleInlineContent":[{"type":"text","text":"example project"}],"type":"link","identifier":"https:\/\/github.com\/taquitos\/SPMBug","url":"https:\/\/github.com\/taquitos\/SPMBug"},"doc://RevenueCat/documentation/RevenueCat/CustomerInfo":{"role":"symbol","title":"CustomerInfo","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"CustomerInfo"}],"abstract":[{"type":"text","text":"A container for the most recent customer info returned from "},{"type":"codeVoice","code":"Purchases"},{"type":"text","text":"."},{"type":"text","text":" "},{"type":"text","text":"These objects are non-mutable and do not update automatically."}],"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/CustomerInfo","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"CustomerInfo"}],"url":"\/documentation\/revenuecat\/customerinfo"},"doc://RevenueCat/documentation/RevenueCat/Purchases/appUserID":{"role":"symbol","title":"appUserID","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"appUserID"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"}],"abstract":[],"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/appUserID","kind":"symbol","type":"topic","url":"\/documentation\/revenuecat\/purchases\/appuserid"},"link_binary_with_libraries_before_carthage":{"alt":"link binary with libraries before","type":"image","identifier":"link_binary_with_libraries_before_carthage","variants":[{"url":"\/images\/link_binary_with_libraries_before_carthage.png","traits":["1x","light"]}]},"doc://RevenueCat/documentation/RevenueCat/Purchases/getProducts(_:completion:)":{"role":"symbol","title":"getProducts(_:completion:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"getProducts"},{"kind":"text","text":"(["},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"kind":"text","text":"], "},{"kind":"externalParam","text":"completion"},{"kind":"text","text":": (["},{"kind":"typeIdentifier","text":"StoreProduct","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCStoreProduct"},{"kind":"text","text":"]) -> "},{"kind":"typeIdentifier","text":"Void","preciseIdentifier":"s:s4Voida"},{"kind":"text","text":")"}],"abstract":[{"type":"text","text":"Fetches the "},{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StoreProduct"},{"type":"text","text":"s for your IAPs for given "},{"type":"codeVoice","code":"productIdentifiers"},{"type":"text","text":"."}],"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/getProducts(_:completion:)","kind":"symbol","type":"topic","url":"\/documentation\/revenuecat\/purchases\/getproducts(_:completion:)"},"doc://RevenueCat/documentation/RevenueCat/PeriodType":{"role":"symbol","title":"PeriodType","fragments":[{"kind":"keyword","text":"enum"},{"kind":"text","text":" "},{"kind":"identifier","text":"PeriodType"}],"abstract":[{"type":"text","text":"Enum of supported period types for an entitlement."}],"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/PeriodType","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"PeriodType"}],"url":"\/documentation\/revenuecat\/periodtype"},"link_binary_with_libraries_after_carthage":{"alt":"link binary with libraries after","type":"image","identifier":"link_binary_with_libraries_after_carthage","variants":[{"url":"\/images\/link_binary_with_libraries_after_carthage.png","traits":["1x","light"]}]},"doc://RevenueCat/documentation/RevenueCat/StoreProductDiscount/PaymentMode-swift.enum":{"role":"symbol","title":"StoreProductDiscount.PaymentMode","fragments":[{"kind":"keyword","text":"enum"},{"kind":"text","text":" "},{"kind":"identifier","text":"PaymentMode"}],"abstract":[{"type":"text","text":"The payment mode for a "},{"type":"codeVoice","code":"StoreProductDiscount"},{"type":"text","text":" "},{"type":"text","text":"Indicates how the product discount price is charged."}],"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StoreProductDiscount\/PaymentMode-swift.enum","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"PaymentMode"}],"url":"\/documentation\/revenuecat\/storeproductdiscount\/paymentmode-swift.enum"},"doc://RevenueCat/documentation/RevenueCat/DeferredPromotionalPurchaseBlock":{"role":"symbol","title":"DeferredPromotionalPurchaseBlock","fragments":[{"kind":"keyword","text":"typealias"},{"kind":"text","text":" "},{"kind":"identifier","text":"DeferredPromotionalPurchaseBlock"}],"abstract":[{"type":"text","text":"Deferred block for "},{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/shouldPurchasePromoProduct(_:defermentBlock:)"}],"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/DeferredPromotionalPurchaseBlock","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"DeferredPromotionalPurchaseBlock"}],"url":"\/documentation\/revenuecat\/deferredpromotionalpurchaseblock"},"embed_frameworks_after_carthage":{"alt":"embed frameworks after","type":"image","identifier":"embed_frameworks_after_carthage","variants":[{"url":"\/images\/embed_frameworks_after_carthage.png","traits":["1x","light"]}]},"doc://RevenueCat/documentation/RevenueCat/Purchases":{"role":"symbol","title":"Purchases","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"Purchases"}],"abstract":[{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases"},{"type":"text","text":" is the main entry point of the "},{"type":"codeVoice","code":"RevenueCat"},{"type":"text","text":" SDK."},{"type":"text","text":" "},{"type":"text","text":"It provides access to all its features."}],"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"Purchases"}],"url":"\/documentation\/revenuecat\/purchases"},"https://github.com/RevenueCat/purchases-ios/issues/new/":{"title":"New RevenueCat Issue","titleInlineContent":[{"type":"text","text":"New RevenueCat Issue"}],"type":"link","identifier":"https:\/\/github.com\/RevenueCat\/purchases-ios\/issues\/new\/","url":"https:\/\/github.com\/RevenueCat\/purchases-ios\/issues\/new\/"},"doc://RevenueCat/documentation/RevenueCat/StoreProduct/price":{"role":"symbol","title":"price","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"price"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Decimal","preciseIdentifier":"c:@SA@NSDecimal"}],"abstract":[],"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StoreProduct\/price","kind":"symbol","type":"topic","url":"\/documentation\/revenuecat\/storeproduct\/price"},"doc://RevenueCat/documentation/RevenueCat/Package/localizedIntroductoryPriceString":{"role":"symbol","title":"localizedIntroductoryPriceString","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"localizedIntroductoryPriceString"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"kind":"text","text":"?"}],"abstract":[{"type":"text","text":"The price of the "},{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StoreProduct\/introductoryDiscount"},{"type":"text","text":" formatted using "},{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StoreProduct\/priceFormatter"},{"type":"text","text":"."}],"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Package\/localizedIntroductoryPriceString","kind":"symbol","type":"topic","url":"\/documentation\/revenuecat\/package\/localizedintroductorypricestring"},"doc://RevenueCat/documentation/RevenueCat/PurchaseCompletedBlock":{"role":"symbol","title":"PurchaseCompletedBlock","fragments":[{"kind":"keyword","text":"typealias"},{"kind":"text","text":" "},{"kind":"identifier","text":"PurchaseCompletedBlock"}],"abstract":[{"type":"text","text":"Completion block for "},{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/purchase(product:completion:)"}],"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/PurchaseCompletedBlock","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"PurchaseCompletedBlock"}],"url":"\/documentation\/revenuecat\/purchasecompletedblock"},"doc://RevenueCat/documentation/RevenueCat/Purchases/purchase(product:promotionalOffer:)":{"role":"symbol","title":"purchase(product:promotionalOffer:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"purchase"},{"kind":"text","text":"("},{"kind":"externalParam","text":"product"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"StoreProduct","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCStoreProduct"},{"kind":"text","text":", "},{"kind":"externalParam","text":"promotionalOffer"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"PromotionalOffer","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCPromotionalOffer"},{"kind":"text","text":") "},{"kind":"keyword","text":"async"},{"kind":"text","text":" "},{"kind":"keyword","text":"throws"},{"kind":"text","text":" -> "},{"kind":"typeIdentifier","text":"PurchaseResultData","preciseIdentifier":"s:10RevenueCat18PurchaseResultDataa"}],"abstract":[{"type":"text","text":"Use this function if you are not using the Offerings system to purchase a "},{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StoreProduct"},{"type":"text","text":" with an"},{"type":"text","text":" "},{"type":"text","text":"applied "},{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/PromotionalOffer"},{"type":"text","text":"."},{"type":"text","text":" "},{"type":"text","text":"If you are using the Offerings system, use "},{"type":"reference","isActive":true,"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/purchase(package:promotionalOffer:completion:)"},{"type":"text","text":" instead."}],"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/Purchases\/purchase(product:promotionalOffer:)","kind":"symbol","type":"topic","url":"\/documentation\/revenuecat\/purchases\/purchase(product:promotionaloffer:)"},"link_binary_with_libraries_after_spm":{"alt":"link binary with libraries after","type":"image","identifier":"link_binary_with_libraries_after_spm","variants":[{"url":"\/images\/link_binary_with_libraries_after_spm.png","traits":["1x","light"]}]},"link_binary_with_libraries_before_spm":{"alt":"link binary with libraries before","type":"image","identifier":"link_binary_with_libraries_before_spm","variants":[{"url":"\/images\/link_binary_with_libraries_before_spm.png","traits":["1x","light"]}]},"https://docs.swift.org/swift-book/LanguageGuide/Concurrency.html":{"title":"async\/await alternatives","titleInlineContent":[{"type":"text","text":"async\/await alternatives"}],"type":"link","identifier":"https:\/\/docs.swift.org\/swift-book\/LanguageGuide\/Concurrency.html","url":"https:\/\/docs.swift.org\/swift-book\/LanguageGuide\/Concurrency.html"},"doc://RevenueCat/documentation/RevenueCat/StoreTransaction":{"role":"symbol","title":"StoreTransaction","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"StoreTransaction"}],"abstract":[{"type":"text","text":"Abstract class that provides access to all of StoreKitâ€™s product typeâ€™s properties."}],"identifier":"doc:\/\/RevenueCat\/documentation\/RevenueCat\/StoreTransaction","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"StoreTransaction"}],"url":"\/documentation\/revenuecat\/storetransaction"},"https://bugs.swift.org/browse/SR-15154":{"title":"SR-15154","titleInlineContent":[{"type":"text","text":"SR-15154"}],"type":"link","identifier":"https:\/\/bugs.swift.org\/browse\/SR-15154","url":"https:\/\/bugs.swift.org\/browse\/SR-15154"},"https://github.com/RevenueCat/purchases-ios/blob/main/Tests/InstallationTests/CommonFiles/RevenueCat-Swift.h":{"title":"RevenueCat-Swift.h","titleInlineContent":[{"type":"text","text":"RevenueCat-Swift.h"}],"type":"link","identifier":"https:\/\/github.com\/RevenueCat\/purchases-ios\/blob\/main\/Tests\/InstallationTests\/CommonFiles\/RevenueCat-Swift.h","url":"https:\/\/github.com\/RevenueCat\/purchases-ios\/blob\/main\/Tests\/InstallationTests\/CommonFiles\/RevenueCat-Swift.h"}}}