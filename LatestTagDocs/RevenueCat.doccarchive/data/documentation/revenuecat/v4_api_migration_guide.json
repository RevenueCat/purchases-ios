{"primaryContentSections":[{"kind":"content","content":[{"anchor":"overview","level":2,"type":"heading","text":"Overview"},{"type":"paragraph","inlineContent":[{"type":"text","text":"To start us off, Our framework name changed from "},{"type":"codeVoice","code":"Purchases"},{"type":"text","text":" to "},{"type":"codeVoice","code":"RevenueCat"},{"type":"text","text":" ðŸ˜»! We also updated all references of "},{"type":"codeVoice","code":"Purchaser"},{"type":"text","text":" to "},{"type":"codeVoice","code":"Customer"},{"type":"text","text":" to be more consistent across our platform."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"If youâ€™re using "},{"type":"codeVoice","code":"Carthage"},{"type":"text","text":", make sure to use the new "},{"type":"codeVoice","code":"RevenueCat.framework"},{"type":"text","text":" or "},{"type":"codeVoice","code":"RevenueCat.xcframework"},{"type":"text","text":" instead of the old "},{"type":"codeVoice","code":"Purchases"},{"type":"text","text":"."}]},{"anchor":"Xcode-version-requirements-and-updated-deployment-targets","level":3,"type":"heading","text":"Xcode version requirements and updated deployment targets"},{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"purchases-ios"},{"type":"text","text":" v4 requires using Xcode 13.2 or newer."},{"type":"text","text":" "},{"type":"text","text":"It also updates the minimum deployment targets for iOS, macOS and tvOS."}]},{"anchor":"Minimum-deployment-targets","level":5,"type":"heading","text":"Minimum deployment targets"},{"type":"table","rows":[[[{"type":"paragraph","inlineContent":[]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"v3"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"v4"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"iOS"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"9.0"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"11.0"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"tvOS"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"9.0"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"11.0"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"macOS"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"10.12"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"10.13"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"watchOS"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"6.2"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"6.2 (unchanged)"}]}]]],"header":"row"},{"anchor":"Known-Issues","level":3,"type":"heading","text":"Known Issues"},{"anchor":"ObjC-+-SPM","level":4,"type":"heading","text":"ObjC + SPM"},{"type":"paragraph","inlineContent":[{"type":"text","text":"If you expose any Purchases objects from one target to another (see "},{"type":"reference","isActive":true,"identifier":"https:\/\/github.com\/taquitos\/SPMBug"},{"type":"text","text":" "},{"type":"text","text":"for what this could look like), that second target will not build due to a missing autogenerated header."},{"type":"text","text":" "},{"type":"text","text":"Currently there is a known bug in SPM whereby Xcode either doesnâ€™t pass the RevenueCat ObjC generated interface to SPM,"},{"type":"text","text":" "},{"type":"text","text":"or SPM just doesnâ€™t integrate it. You can follow along: "},{"type":"reference","isActive":true,"identifier":"https:\/\/bugs.swift.org\/browse\/SR-15154"},{"type":"text","text":"."}]},{"anchor":"Workaround:","level":5,"type":"heading","text":"Workaround:"},{"type":"paragraph","inlineContent":[{"type":"text","text":"You must manually add the autogenerated file we committed to the repository"},{"type":"text","text":" "},{"type":"reference","isActive":true,"identifier":"https:\/\/github.com\/RevenueCat\/purchases-ios\/blob\/main\/IntegrationTests\/CommonFiles\/RevenueCat-Swift.h"},{"type":"text","text":" "},{"type":"text","text":"to your project, and "},{"type":"codeVoice","code":"#import RevenueCat-Swift.h"},{"type":"text","text":" in your bridging header. You can see how we do this in our"},{"type":"text","text":" "},{"type":"reference","isActive":true,"identifier":"https:\/\/github.com\/RevenueCat\/purchases-ios\/tree\/main\/IntegrationTests\/SPMIntegration"},{"type":"text","text":"."}]},{"anchor":"Automatic-Migration","level":3,"type":"heading","text":"Automatic Migration"},{"type":"paragraph","inlineContent":[{"type":"text","text":"When building your project using v4, Xcode should automatically provide one-click fixes methods and types that have been renamed. For the most part, the migration should be doable by just building and applying Xcodeâ€™s automatic fix-its when they pop up."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"If you see any issues or new APIs that fix-its didnâ€™t cover, weâ€™d appreciate "},{"type":"reference","isActive":true,"identifier":"https:\/\/github.com\/RevenueCat\/purchases-ios\/issues\/new?assignees=&labels=bug&template=bug_report.md&title="},{"type":"text","text":"!"}]},{"anchor":"New-Types","level":3,"type":"heading","text":"New Types"},{"type":"paragraph","inlineContent":[{"type":"text","text":"To better support "},{"type":"codeVoice","code":"StoreKit 2"},{"type":"text","text":", "},{"type":"codeVoice","code":"RevenueCat v4"},{"type":"text","text":" introduces several new types to encapsulate data from "},{"type":"codeVoice","code":"StoreKit 1"},{"type":"text","text":" and "},{"type":"codeVoice","code":"StoreKit 2"},{"type":"text","text":":"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/StoreProduct"},{"type":"text","text":" \/ "},{"type":"codeVoice","code":"RCStoreProduct"},{"type":"text","text":": wraps a "},{"type":"codeVoice","code":"StoreKit.SKProduct"},{"type":"text","text":" or "},{"type":"codeVoice","code":"StoreKit.Product"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/StoreTransaction"},{"type":"text","text":" \/ "},{"type":"codeVoice","code":"RCStoreTransaction"},{"type":"text","text":": wraps a "},{"type":"codeVoice","code":"StoreKit.SKPaymentTransaction"},{"type":"text","text":" or "},{"type":"codeVoice","code":"StoreKit.Transaction"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/StoreProductDiscount"},{"type":"text","text":" \/ "},{"type":"codeVoice","code":"RCStoreProductDiscount"},{"type":"text","text":": wraps a "},{"type":"codeVoice","code":"StoreKit.SKProductDiscount"},{"type":"text","text":" or "},{"type":"codeVoice","code":"StoreKit.Product.SubscriptionOffer"}]}]}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"These types replace native StoreKit types in all public API methods that used them."}]},{"anchor":"ObjC-type-changes","level":3,"type":"heading","text":"ObjC type changes"},{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"@import Purchases"},{"type":"text","text":" is now "},{"type":"codeVoice","code":"@import RevenueCat"}]},{"type":"table","rows":[[[{"type":"paragraph","inlineContent":[{"type":"text","text":"v3"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"v4"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"RCPurchaserInfo"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"RCCustomerInfo"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"RCTransaction"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"RCStoreTransaction"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"RCPackage.product"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"RCPackage.storeProduct"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"(RCPurchasesErrorCode).RCOperationAlreadyInProgressError"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"RCOperationAlreadyInProgressForProductError"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"RCPurchasesErrorDomain"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"RCPurchasesErrorCodeDomain"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"RCBackendError"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"REMOVED"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"RCErrorUtils"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"REMOVED"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"RCBackendErrorDomain"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"REMOVED"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"RCFinishableKey"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"REMOVED"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"RCReceivePurchaserInfoBlock"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"REMOVED"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"RCReceiveIntroEligibilityBlock"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"REMOVED"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"RCReceiveOfferingsBlock"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"REMOVED"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"RCReceiveProductsBlock"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"REMOVED"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"RCPurchaseCompletedBlock"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"REMOVED"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"RCDeferredPromotionalPurchaseBlock"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"REMOVED"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"RCPaymentDiscountBlock"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"REMOVED"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"RCPaymentModeNone"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"REMOVED"}]}]]],"header":"row"},{"anchor":"PurchasesDelegate","level":4,"type":"heading","text":"PurchasesDelegate"},{"type":"table","rows":[[[{"type":"paragraph","inlineContent":[{"type":"text","text":"v3"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"v4"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"purchases:didReceiveUpdatedPurchaserInfo:"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"purchases:didReceiveUpdatedCustomerInfo:"}]}]]],"header":"row"},{"anchor":"ObjC-API-changes","level":3,"type":"heading","text":"ObjC API changes"},{"type":"table","rows":[[[{"type":"paragraph","inlineContent":[{"type":"text","text":"v3"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"v4"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"purchaserInfoWithCompletion:"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"getCustomerInfoWithCompletion:"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"invalidatePurchaserInfoCache"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"invalidateCustomerInfoCache"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases -restoreTransactionsWithCompletion:"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases -restorePurchasesWithCompletion:"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases -offeringsWithCompletion:"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases -getOfferingsWithCompletion:"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases -productsWithIdentifiers:completion:"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases -getProductsWithIdentifiers:completion:"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases -paymentDiscountForProductDiscount:product:completion:"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"REMOVED - Check eligibility for a discount using "},{"type":"codeVoice","code":"checkPromotionalOfferEligibility:"},{"type":"text","text":", then pass the discount directly to "},{"type":"codeVoice","code":"purchasePackage:withDiscount:completion:"},{"type":"text","text":" or "},{"type":"codeVoice","code":"purchaseProduct:withDiscount:completion:"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases -createAlias:"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases -logIn:"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases -identify:"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases -logIn:"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases -reset:"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases -logOut:"}]}]]],"header":"row"},{"anchor":"Swift-type-changes","level":3,"type":"heading","text":"Swift type changes"},{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"import Purchases"},{"type":"text","text":" is now "},{"type":"codeVoice","code":"import RevenueCat"}]},{"type":"table","rows":[[[{"type":"paragraph","inlineContent":[{"type":"text","text":"v3"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"v4"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases.Offering"}]}],[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/Offering"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases.ErrorDomain"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"See error handling below"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases.ErrorCode.Code"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"See error handling below"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases.Package"}]}],[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/Package"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases.PurchaserInfo"}]}],[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/CustomerInfo"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases.EntitlementInfos"}]}],[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/EntitlementInfos"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases.Transaction"}]}],[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/StoreTransaction"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases.EntitlementInfo"}]}],[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/EntitlementInfo"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases.PeriodType"}]}],[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/PeriodType"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases.Store"}]}],[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/Store"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"RCPurchaseOwnershipType"}]}],[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/PurchaseOwnershipType"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"RCAttributionNetwork"}]}],[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/AttributionNetwork"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"RCIntroEligibility"}]}],[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/IntroEligibility"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"RCIntroEligibilityStatus"}]}],[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/IntroEligibilityStatus"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"RCPaymentMode"}]}],[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/StoreProductDiscount\/PaymentMode-swift.enum"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"RCPaymentModeNone"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"REMOVED"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases.LogLevel"}]}],[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/LogLevel"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases.Offerings"}]}],[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/Offerings"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases.PackageType"}]}],[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/PackageType"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Package.product"}]}],[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/Package\/storeProduct"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Package.product.price: NSDecimalNumber"}]}],[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/StoreProduct\/price"},{"type":"text","text":": Decimal"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Package.localizedIntroductoryPriceString: String"}]}],[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/Package\/localizedIntroductoryPriceString"},{"type":"text","text":": String?"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"RCDeferredPromotionalPurchaseBlock"}]}],[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/DeferredPromotionalPurchaseBlock"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases.PurchaseCompletedBlock"}]}],[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/PurchaseCompletedBlock"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases.ReceivePurchaserInfoBlock"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"REMOVED"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases.ReceiveOfferingsBlock"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"REMOVED"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases.ReceiveProductsBlock"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"REMOVED"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases.PaymentDiscountBlock"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"REMOVED"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases.RevenueCatBackendErrorCode"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"REMOVED"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases.ErrorCode.operationAlreadyInProgressError"}]}],[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/ErrorCode\/operationAlreadyInProgressForProductError"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Purchases.ErrorUtils"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"REMOVED"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"ReadableErrorCodeKey"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"REMOVED"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"RCFinishableKey"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"REMOVED"}]}]]],"header":"row"},{"anchor":"Swift-API-changes","level":3,"type":"heading","text":"Swift API changes"},{"type":"table","rows":[[[{"type":"paragraph","inlineContent":[{"type":"text","text":"v3"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"v4"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"invalidatePurchaserInfoCache"}]}],[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/Purchases\/invalidateCustomerInfoCache()"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"logIn(_ appUserId:, _ completion:)"}]}],[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/Purchases\/logIn(_:completion:)"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"createAlias(_ alias:, _ completion:)"}]}],[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/Purchases\/logIn(_:completion:)"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"identify(_ appUserID:, _ completion:)"}]}],[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/Purchases\/logIn(_:completion:)"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"reset(completion:)"}]}],[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/Purchases\/logOut(completion:)"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"purchaserInfo(_ completion:)"}]}],[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/Purchases\/getCustomerInfo(completion:)"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"offerings(_ completion:)"}]}],[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/Purchases\/getOfferings(completion:)"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"products(_ productIdentifiers:, _ completion:)"}]}],[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/Purchases\/getProducts(_:completion:)"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"purchaseProduct(_ product:, _ completion:)"}]}],[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/Purchases\/purchase(product:completion:)"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"purchasePackage(_ package:, _ completion:)"}]}],[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/Purchases\/purchase(package:completion:)"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"restoreTransactions(_ completion:)"}]}],[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/Purchases\/restorePurchases(completion:)"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"syncPurchases(_ completion:)"}]}],[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/Purchases\/syncPurchases(completion:)"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"paymentDiscount(for:product:completion:)"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"REMOVED - Check eligibility for a discount using "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/Purchases\/checkPromotionalDiscountEligibility(forProductDiscount:product:)"},{"type":"text","text":", then pass the discount directly to "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/Purchases\/purchase(package:discount:)"},{"type":"text","text":" or "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/Purchases\/purchase(product:discount:)"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"purchaseProduct("},{"type":"emphasis","inlineContent":[{"type":"text","text":":discount:"}]},{"type":"text","text":")"}]}],[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/Purchases\/purchase(product:discount:completion:)"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"purchasePackage("},{"type":"emphasis","inlineContent":[{"type":"text","text":":discount:"}]},{"type":"text","text":")"}]}],[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/Purchases\/purchase(package:discount:completion:)"}]}]]],"header":"row"},{"anchor":"PurchasesDelegate","level":4,"type":"heading","text":"PurchasesDelegate"},{"type":"table","rows":[[[{"type":"paragraph","inlineContent":[{"type":"text","text":"v3"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"v4"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"purchases(_ purchases: Purchases, didReceiveUpdated purchaserInfo: PurchaserInfo)"}]}],[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/PurchasesDelegate\/purchases(_:receivedUpdated:)"}]}]]],"header":"row"},{"anchor":"Swift-Error-handling","level":3,"type":"heading","text":"Swift Error handling"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Prior to the Swift migration, "},{"type":"codeVoice","code":"Purchases"},{"type":"text","text":" exposed errors as "},{"type":"codeVoice","code":"NSError"},{"type":"text","text":"s, so one could detect errors like this:"}]},{"type":"codeListing","syntax":"swift","code":["if error.domain == Purchases.ErrorDomain {","\tswitch Purchases.ErrorCode(_nsError: error).code {","\t\tcase .purchaseInvalidError: break","\t\tdefault: break","\t}","}"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Starting from Version 4, this becomes much simpler:"}]},{"type":"codeListing","syntax":"swift","code":["if let error = error as? RevenueCat.ErrorCode {","\tswitch error {","\t\tcase .purchaseInvalidError: break","\t\tdefault: break","\t}","} else {","\t\/\/ Error is a different type","}"]},{"anchor":"New-APIs","level":3,"type":"heading","text":"New APIs"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"showManageSuscriptions(completion:)"},{"type":"text","text":": Use this method to show the subscription management for the current user. Depending on where they made the purchase and their OS version, this might take them to the "},{"type":"codeVoice","code":"managementURL"},{"type":"text","text":", or open the iOS Subscription Management page."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"beginRefundRequestForCurrentEntitlement"},{"type":"text","text":": Use this method to begin a refund request for the purchase that granted the current entitlement."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"beginRefundRequest(forProduct:)"},{"type":"text","text":": Use this method to begin a refund request for a purchase, specifying the product identifier."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"beginRefundRequest(forEntitlement:)"},{"type":"text","text":": Use this method to begin a refund request for a purchase, specifying the entitlement identifier."}]}]}]},{"anchor":"Reporting-undocumented-issues:","level":2,"type":"heading","text":"Reporting undocumented issues:"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Feel free to file an issue! "},{"type":"reference","isActive":true,"identifier":"https:\/\/github.com\/RevenueCat\/purchases-ios\/issues\/new\/"},{"type":"text","text":"."}]}]}],"schemaVersion":{"major":0,"minor":1,"patch":0},"sections":[],"variants":[{"paths":["\/documentation\/revenuecat\/v4_api_migration_guide"],"traits":[{"interfaceLanguage":"swift"}]}],"identifier":{"url":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/V4_API_Migration_guide","interfaceLanguage":"swift"},"abstract":[{"type":"text","text":"There were various updates to our API when we migrated the ObjC pieces to Swift. Most were unavoidable,"},{"type":"text","text":" "},{"type":"text","text":"but a number of updates make our Swift API more idomatic. Weâ€™ll be updating this list as we continue to release betas."}],"kind":"article","metadata":{"roleHeading":"Article","title":"RevenueCat V4 API Migration Guide","role":"article","modules":[{"name":"RevenueCat"}]},"hierarchy":{"paths":[["doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat"]]},"references":{"doc://com.revenuecat.Purchases/documentation/RevenueCat/Purchases/getOfferings(completion:)":{"role":"symbol","title":"getOfferings(completion:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"getOfferings"},{"kind":"text","text":"("},{"kind":"externalParam","text":"completion"},{"kind":"text","text":": ("},{"kind":"typeIdentifier","text":"Offerings","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCOfferings"},{"kind":"text","text":"?, "},{"kind":"typeIdentifier","text":"Error","preciseIdentifier":"s:s5ErrorP"},{"kind":"text","text":"?) -> "},{"kind":"typeIdentifier","text":"Void","preciseIdentifier":"s:s4Voida"},{"kind":"text","text":")"}],"abstract":[{"type":"text","text":"Fetch the configured offerings for this users. "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/Offerings"},{"type":"text","text":" allows you to configure your in-app products"},{"type":"text","text":" "},{"type":"text","text":"via RevenueCat and greatly simplifies management."},{"type":"text","text":" "},{"type":"text","text":"See "},{"type":"reference","isActive":true,"identifier":"https:\/\/docs.revenuecat.com\/entitlements"},{"type":"text","text":" for more info."}],"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/Purchases\/getOfferings(completion:)","kind":"symbol","type":"topic","url":"\/documentation\/revenuecat\/purchases\/getofferings(completion:)"},"doc://com.revenuecat.Purchases/documentation/RevenueCat/Package":{"role":"symbol","title":"Package","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"Package"}],"abstract":[{"type":"text","text":"Enumeration of all possible Package types."}],"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/Package","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"Package"}],"url":"\/documentation\/revenuecat\/package"},"doc://com.revenuecat.Purchases/documentation/RevenueCat/StoreProductDiscount/PaymentMode-swift.enum":{"role":"symbol","title":"StoreProductDiscount.PaymentMode","fragments":[{"kind":"keyword","text":"enum"},{"kind":"text","text":" "},{"kind":"identifier","text":"PaymentMode"}],"abstract":[{"type":"text","text":"The payment mode for a "},{"type":"codeVoice","code":"StoreProductDiscount"},{"type":"text","text":" "},{"type":"text","text":"Indicates how the product discount price is charged."}],"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/StoreProductDiscount\/PaymentMode-swift.enum","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"PaymentMode"}],"url":"\/documentation\/revenuecat\/storeproductdiscount\/paymentmode-swift.enum"},"doc://com.revenuecat.Purchases/documentation/RevenueCat/Package/localizedIntroductoryPriceString":{"role":"symbol","title":"localizedIntroductoryPriceString","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"localizedIntroductoryPriceString"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"kind":"text","text":"?"}],"abstract":[{"type":"text","text":"The price of the "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/StoreProduct\/introductoryDiscount"},{"type":"text","text":" formatted using "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/StoreProduct\/priceFormatter"},{"type":"text","text":"."}],"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/Package\/localizedIntroductoryPriceString","kind":"symbol","type":"topic","url":"\/documentation\/revenuecat\/package\/localizedintroductorypricestring"},"doc://com.revenuecat.Purchases/documentation/RevenueCat/StoreProduct/introductoryDiscount":{"role":"symbol","title":"introductoryDiscount","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"introductoryDiscount"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"StoreProductDiscount","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCStoreProductDiscount"},{"kind":"text","text":"?"}],"abstract":[{"type":"text","text":"The object containing introductory price information for the product."},{"type":"text","text":" "},{"type":"text","text":"If youâ€™ve set up introductory prices in App Store Connect, the introductory price property will be populated."},{"type":"text","text":" "},{"type":"text","text":"This property is "},{"type":"codeVoice","code":"nil"},{"type":"text","text":" if the product has no introductory price."}],"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/StoreProduct\/introductoryDiscount","kind":"symbol","type":"topic","url":"\/documentation\/revenuecat\/storeproduct\/introductorydiscount"},"doc://com.revenuecat.Purchases/documentation/RevenueCat/ErrorCode/operationAlreadyInProgressForProductError":{"role":"symbol","title":"ErrorCode.operationAlreadyInProgressForProductError","fragments":[{"kind":"keyword","text":"case"},{"kind":"text","text":" "},{"kind":"identifier","text":"operationAlreadyInProgressForProductError"}],"abstract":[],"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/ErrorCode\/operationAlreadyInProgressForProductError","kind":"symbol","type":"topic","url":"\/documentation\/revenuecat\/errorcode\/operationalreadyinprogressforproducterror"},"https://github.com/RevenueCat/purchases-ios/issues/new/":{"title":"New RevenueCat Issue","titleInlineContent":[{"type":"text","text":"New RevenueCat Issue"}],"type":"link","identifier":"https:\/\/github.com\/RevenueCat\/purchases-ios\/issues\/new\/","url":"https:\/\/github.com\/RevenueCat\/purchases-ios\/issues\/new\/"},"doc://com.revenuecat.Purchases/documentation/RevenueCat/LogLevel":{"role":"symbol","title":"LogLevel","fragments":[{"kind":"keyword","text":"enum"},{"kind":"text","text":" "},{"kind":"identifier","text":"LogLevel"}],"abstract":[],"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/LogLevel","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"LogLevel"}],"url":"\/documentation\/revenuecat\/loglevel"},"doc://com.revenuecat.Purchases/documentation/RevenueCat/Purchases/shouldPurchasePromoProduct(_:defermentBlock:)":{"role":"symbol","title":"shouldPurchasePromoProduct(_:defermentBlock:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"shouldPurchasePromoProduct"},{"kind":"text","text":"("},{"kind":"typeIdentifier","text":"StoreProduct","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCStoreProduct"},{"kind":"text","text":", "},{"kind":"externalParam","text":"defermentBlock"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"DeferredPromotionalPurchaseBlock","preciseIdentifier":"s:10RevenueCat32DeferredPromotionalPurchaseBlocka"},{"kind":"text","text":")"}],"abstract":[{"type":"text","text":"Called when a user initiates a promotional in-app purchase from the App Store."}],"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/Purchases\/shouldPurchasePromoProduct(_:defermentBlock:)","kind":"symbol","type":"topic","url":"\/documentation\/revenuecat\/purchases\/shouldpurchasepromoproduct(_:defermentblock:)"},"doc://com.revenuecat.Purchases/documentation/RevenueCat/StoreProductDiscount":{"role":"symbol","title":"StoreProductDiscount","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"StoreProductDiscount"}],"abstract":[{"type":"text","text":"Type that wraps "},{"type":"codeVoice","code":"StoreKit.Product.SubscriptionOffer"},{"type":"text","text":" and "},{"type":"codeVoice","code":"SKProductDiscount"},{"type":"text","text":" "},{"type":"text","text":"and provides access to their properties."}],"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/StoreProductDiscount","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"StoreProductDiscount"}],"url":"\/documentation\/revenuecat\/storeproductdiscount"},"doc://com.revenuecat.Purchases/documentation/RevenueCat/DeferredPromotionalPurchaseBlock":{"role":"symbol","title":"DeferredPromotionalPurchaseBlock","fragments":[{"kind":"keyword","text":"typealias"},{"kind":"text","text":" "},{"kind":"identifier","text":"DeferredPromotionalPurchaseBlock"}],"abstract":[{"type":"text","text":"Deferred block for "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/Purchases\/shouldPurchasePromoProduct(_:defermentBlock:)"}],"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/DeferredPromotionalPurchaseBlock","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"DeferredPromotionalPurchaseBlock"}],"url":"\/documentation\/revenuecat\/deferredpromotionalpurchaseblock"},"https://github.com/RevenueCat/purchases-ios/tree/main/IntegrationTests/SPMIntegration":{"title":"SPMIntegration project","titleInlineContent":[{"type":"text","text":"SPMIntegration project"}],"type":"link","identifier":"https:\/\/github.com\/RevenueCat\/purchases-ios\/tree\/main\/IntegrationTests\/SPMIntegration","url":"https:\/\/github.com\/RevenueCat\/purchases-ios\/tree\/main\/IntegrationTests\/SPMIntegration"},"doc://com.revenuecat.Purchases/documentation/RevenueCat/Purchases/getCustomerInfo(completion:)":{"role":"symbol","title":"getCustomerInfo(completion:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"getCustomerInfo"},{"kind":"text","text":"("},{"kind":"externalParam","text":"completion"},{"kind":"text","text":": ("},{"kind":"typeIdentifier","text":"CustomerInfo","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCCustomerInfo"},{"kind":"text","text":"?, "},{"kind":"typeIdentifier","text":"Error","preciseIdentifier":"s:s5ErrorP"},{"kind":"text","text":"?) -> "},{"kind":"typeIdentifier","text":"Void","preciseIdentifier":"s:s4Voida"},{"kind":"text","text":")"}],"abstract":[{"type":"text","text":"Get latest available customer  info."}],"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/Purchases\/getCustomerInfo(completion:)","kind":"symbol","type":"topic","url":"\/documentation\/revenuecat\/purchases\/getcustomerinfo(completion:)"},"https://docs.revenuecat.com/entitlements":{"title":"the guide","titleInlineContent":[{"type":"text","text":"the guide"}],"type":"link","identifier":"https:\/\/docs.revenuecat.com\/entitlements","url":"https:\/\/docs.revenuecat.com\/entitlements"},"doc://com.revenuecat.Purchases/documentation/RevenueCat/PurchasesDelegate/purchases(_:receivedUpdated:)":{"role":"symbol","title":"purchases(_:receivedUpdated:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"purchases"},{"kind":"text","text":"("},{"kind":"typeIdentifier","text":"Purchases","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCPurchases"},{"kind":"text","text":", "},{"kind":"externalParam","text":"receivedUpdated"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"CustomerInfo","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCCustomerInfo"},{"kind":"text","text":")"}],"abstract":[{"type":"text","text":"Called whenever "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/Purchases"},{"type":"text","text":" receives updated customer info. This may happen periodically"},{"type":"text","text":" "},{"type":"text","text":"throughout the life of the app if new information becomes available (e.g. UIApplicationDidBecomeActive).*"}],"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/PurchasesDelegate\/purchases(_:receivedUpdated:)","kind":"symbol","required":true,"type":"topic","url":"\/documentation\/revenuecat\/purchasesdelegate\/purchases(_:receivedupdated:)"},"doc://com.revenuecat.Purchases/documentation/RevenueCat/AttributionNetwork":{"role":"symbol","title":"AttributionNetwork","fragments":[{"kind":"keyword","text":"enum"},{"kind":"text","text":" "},{"kind":"identifier","text":"AttributionNetwork"}],"abstract":[{"type":"text","text":"Enum of supported attribution networks"}],"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/AttributionNetwork","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"AttributionNetwork"}],"url":"\/documentation\/revenuecat\/attributionnetwork"},"https://github.com/RevenueCat/purchases-ios/blob/main/IntegrationTests/CommonFiles/RevenueCat-Swift.h":{"title":"RevenueCat-Swift.h","titleInlineContent":[{"type":"text","text":"RevenueCat-Swift.h"}],"type":"link","identifier":"https:\/\/github.com\/RevenueCat\/purchases-ios\/blob\/main\/IntegrationTests\/CommonFiles\/RevenueCat-Swift.h","url":"https:\/\/github.com\/RevenueCat\/purchases-ios\/blob\/main\/IntegrationTests\/CommonFiles\/RevenueCat-Swift.h"},"doc://com.revenuecat.Purchases/documentation/RevenueCat/Purchases/purchase(product:completion:)":{"role":"symbol","title":"purchase(product:completion:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"purchase"},{"kind":"text","text":"("},{"kind":"externalParam","text":"product"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"StoreProduct","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCStoreProduct"},{"kind":"text","text":", "},{"kind":"externalParam","text":"completion"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"PurchaseCompletedBlock","preciseIdentifier":"s:10RevenueCat22PurchaseCompletedBlocka"},{"kind":"text","text":")"}],"abstract":[{"type":"text","text":"Use this function if you are not using the Offerings system to purchase an "},{"type":"codeVoice","code":"StoreProduct"},{"type":"text","text":"."},{"type":"text","text":" "},{"type":"text","text":"If you are using the Offerings system, use "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/Purchases\/purchase(package:completion:)"},{"type":"text","text":" instead."}],"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/Purchases\/purchase(product:completion:)","kind":"symbol","type":"topic","url":"\/documentation\/revenuecat\/purchases\/purchase(product:completion:)"},"doc://com.revenuecat.Purchases/documentation/RevenueCat/EntitlementInfo":{"role":"symbol","title":"EntitlementInfo","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"EntitlementInfo"}],"abstract":[{"type":"text","text":"The EntitlementInfo object gives you access to all of the information about the status of a user entitlement."}],"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/EntitlementInfo","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"EntitlementInfo"}],"url":"\/documentation\/revenuecat\/entitlementinfo"},"doc://com.revenuecat.Purchases/documentation/RevenueCat/Package/storeProduct":{"role":"symbol","title":"storeProduct","fragments":[{"kind":"keyword","text":"let"},{"kind":"text","text":" "},{"kind":"identifier","text":"storeProduct"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"StoreProduct","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCStoreProduct"}],"abstract":[],"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/Package\/storeProduct","kind":"symbol","type":"topic","url":"\/documentation\/revenuecat\/package\/storeproduct"},"doc://com.revenuecat.Purchases/documentation/RevenueCat/EntitlementInfos":{"role":"symbol","title":"EntitlementInfos","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"EntitlementInfos"}],"abstract":[{"type":"text","text":"This class contains all the entitlements associated to the user."}],"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/EntitlementInfos","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"EntitlementInfos"}],"url":"\/documentation\/revenuecat\/entitlementinfos"},"doc://com.revenuecat.Purchases/documentation/RevenueCat/Purchases/purchase(package:discount:)":{"role":"symbol","title":"purchase(package:discount:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"purchase"},{"kind":"text","text":"("},{"kind":"externalParam","text":"package"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Package","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCPackage"},{"kind":"text","text":", "},{"kind":"externalParam","text":"discount"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"StoreProductDiscount","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCStoreProductDiscount"},{"kind":"text","text":") "},{"kind":"keyword","text":"async"},{"kind":"text","text":" "},{"kind":"keyword","text":"throws"},{"kind":"text","text":" -> (transaction"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"StoreTransaction","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCStoreTransaction"},{"kind":"text","text":", customerInfo"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"CustomerInfo","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCCustomerInfo"},{"kind":"text","text":", userCancelled"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Bool","preciseIdentifier":"s:Sb"},{"kind":"text","text":")"}],"abstract":[{"type":"text","text":"Purchase the passed "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/Package"},{"type":"text","text":"."},{"type":"text","text":" "},{"type":"text","text":"Call this method when a user has decided to purchase a product with an applied discount. Only call this in"},{"type":"text","text":" "},{"type":"text","text":"direct response to user input. From here "},{"type":"codeVoice","code":"Purchases"},{"type":"text","text":" will handle the purchase with "},{"type":"codeVoice","code":"StoreKit"},{"type":"text","text":" and call the"},{"type":"text","text":" "},{"type":"codeVoice","code":"PurchaseCompletedBlock"},{"type":"text","text":"."}],"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/Purchases\/purchase(package:discount:)","kind":"symbol","type":"topic","url":"\/documentation\/revenuecat\/purchases\/purchase(package:discount:)"},"https://docs.revenuecat.com/docs/ios-subscription-offers#promotional-offers":{"title":"iOS Promotional Offers","titleInlineContent":[{"type":"text","text":"iOS Promotional Offers"}],"type":"link","identifier":"https:\/\/docs.revenuecat.com\/docs\/ios-subscription-offers#promotional-offers","url":"https:\/\/docs.revenuecat.com\/docs\/ios-subscription-offers#promotional-offers"},"doc://com.revenuecat.Purchases/documentation/RevenueCat":{"role":"collection","title":"RevenueCat","abstract":[{"type":"text","text":"ðŸ˜» In-App Subscriptions Made Easy ðŸ˜»"}],"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat","kind":"symbol","type":"topic","url":"\/documentation\/revenuecat"},"doc://com.revenuecat.Purchases/documentation/RevenueCat/PurchaseOwnershipType":{"role":"symbol","title":"PurchaseOwnershipType","fragments":[{"kind":"keyword","text":"enum"},{"kind":"text","text":" "},{"kind":"identifier","text":"PurchaseOwnershipType"}],"abstract":[],"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/PurchaseOwnershipType","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"PurchaseOwnershipType"}],"url":"\/documentation\/revenuecat\/purchaseownershiptype"},"doc://com.revenuecat.Purchases/documentation/RevenueCat/Purchases/purchase(product:discount:)":{"role":"symbol","title":"purchase(product:discount:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"purchase"},{"kind":"text","text":"("},{"kind":"externalParam","text":"product"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"StoreProduct","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCStoreProduct"},{"kind":"text","text":", "},{"kind":"externalParam","text":"discount"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"StoreProductDiscount","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCStoreProductDiscount"},{"kind":"text","text":") "},{"kind":"keyword","text":"async"},{"kind":"text","text":" "},{"kind":"keyword","text":"throws"},{"kind":"text","text":" -> (transaction"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"StoreTransaction","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCStoreTransaction"},{"kind":"text","text":", customerInfo"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"CustomerInfo","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCCustomerInfo"},{"kind":"text","text":", userCancelled"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Bool","preciseIdentifier":"s:Sb"},{"kind":"text","text":")"}],"abstract":[{"type":"text","text":"Use this function if you are not using the Offerings system to purchase a "},{"type":"codeVoice","code":"StoreProduct"},{"type":"text","text":" with an"},{"type":"text","text":" "},{"type":"text","text":"applied "},{"type":"codeVoice","code":"StoreProductDiscount"},{"type":"text","text":"."},{"type":"text","text":" "},{"type":"text","text":"If you are using the Offerings system, use "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/Purchases\/purchase(package:discount:completion:)"},{"type":"text","text":" instead."}],"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/Purchases\/purchase(product:discount:)","kind":"symbol","type":"topic","url":"\/documentation\/revenuecat\/purchases\/purchase(product:discount:)"},"doc://com.revenuecat.Purchases/documentation/RevenueCat/Purchases/invalidateCustomerInfoCache()":{"role":"symbol","title":"invalidateCustomerInfoCache()","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"invalidateCustomerInfoCache"},{"kind":"text","text":"()"}],"abstract":[{"type":"text","text":"Invalidates the cache for customer information."}],"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/Purchases\/invalidateCustomerInfoCache()","kind":"symbol","type":"topic","url":"\/documentation\/revenuecat\/purchases\/invalidatecustomerinfocache()"},"doc://com.revenuecat.Purchases/documentation/RevenueCat/Purchases/syncPurchases(completion:)":{"role":"symbol","title":"syncPurchases(completion:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"syncPurchases"},{"kind":"text","text":"("},{"kind":"externalParam","text":"completion"},{"kind":"text","text":": (("},{"kind":"typeIdentifier","text":"CustomerInfo","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCCustomerInfo"},{"kind":"text","text":"?, "},{"kind":"typeIdentifier","text":"Error","preciseIdentifier":"s:s5ErrorP"},{"kind":"text","text":"?) -> "},{"kind":"typeIdentifier","text":"Void","preciseIdentifier":"s:s4Voida"},{"kind":"text","text":")?)"}],"abstract":[{"type":"text","text":"This method will post all purchases associated with the current App Store account to RevenueCat and"},{"type":"text","text":" "},{"type":"text","text":"become associated with the current "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/Purchases\/appUserID"},{"type":"text","text":"."}],"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/Purchases\/syncPurchases(completion:)","kind":"symbol","type":"topic","url":"\/documentation\/revenuecat\/purchases\/syncpurchases(completion:)"},"doc://com.revenuecat.Purchases/documentation/RevenueCat/Purchases/appUserID":{"role":"symbol","title":"appUserID","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"appUserID"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"}],"abstract":[],"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/Purchases\/appUserID","kind":"symbol","type":"topic","url":"\/documentation\/revenuecat\/purchases\/appuserid"},"doc://com.revenuecat.Purchases/documentation/RevenueCat/CustomerInfo":{"role":"symbol","title":"CustomerInfo","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"CustomerInfo"}],"abstract":[{"type":"text","text":"A container for the most recent customer info returned from "},{"type":"codeVoice","code":"Purchases"},{"type":"text","text":"."},{"type":"text","text":" "},{"type":"text","text":"These objects are non-mutable and do not update automatically."}],"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/CustomerInfo","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"CustomerInfo"}],"url":"\/documentation\/revenuecat\/customerinfo"},"doc://com.revenuecat.Purchases/documentation/RevenueCat/Purchases/purchase(package:discount:completion:)":{"role":"symbol","title":"purchase(package:discount:completion:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"purchase"},{"kind":"text","text":"("},{"kind":"externalParam","text":"package"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Package","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCPackage"},{"kind":"text","text":", "},{"kind":"externalParam","text":"discount"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"StoreProductDiscount","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCStoreProductDiscount"},{"kind":"text","text":", "},{"kind":"externalParam","text":"completion"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"PurchaseCompletedBlock","preciseIdentifier":"s:10RevenueCat22PurchaseCompletedBlocka"},{"kind":"text","text":")"}],"abstract":[{"type":"text","text":"Purchase the passed "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/Package"},{"type":"text","text":"."},{"type":"text","text":" "},{"type":"text","text":"Call this method when a user has decided to purchase a product with an applied discount. Only call this in"},{"type":"text","text":" "},{"type":"text","text":"direct response to user input. From here "},{"type":"codeVoice","code":"Purchases"},{"type":"text","text":" will handle the purchase with "},{"type":"codeVoice","code":"StoreKit"},{"type":"text","text":" and call the"},{"type":"text","text":" "},{"type":"codeVoice","code":"PurchaseCompletedBlock"},{"type":"text","text":"."}],"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/Purchases\/purchase(package:discount:completion:)","kind":"symbol","type":"topic","url":"\/documentation\/revenuecat\/purchases\/purchase(package:discount:completion:)"},"https://bugs.swift.org/browse/SR-15154":{"title":"SR-15154","titleInlineContent":[{"type":"text","text":"SR-15154"}],"type":"link","identifier":"https:\/\/bugs.swift.org\/browse\/SR-15154","url":"https:\/\/bugs.swift.org\/browse\/SR-15154"},"doc://com.revenuecat.Purchases/documentation/RevenueCat/Offerings":{"role":"symbol","title":"Offerings","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"Offerings"}],"abstract":[{"type":"text","text":"This class contains all the offerings configured in RevenueCat dashboard."},{"type":"text","text":" "},{"type":"text","text":"For more info see "},{"type":"reference","isActive":true,"identifier":"https:\/\/docs.revenuecat.com\/docs\/entitlements"}],"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/Offerings","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"Offerings"}],"url":"\/documentation\/revenuecat\/offerings"},"doc://com.revenuecat.Purchases/documentation/RevenueCat/IntroEligibility":{"role":"symbol","title":"IntroEligibility","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"IntroEligibility"}],"abstract":[{"type":"text","text":"Holds the introductory price status"}],"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/IntroEligibility","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"IntroEligibility"}],"url":"\/documentation\/revenuecat\/introeligibility"},"doc://com.revenuecat.Purchases/documentation/RevenueCat/Purchases/logOut(completion:)":{"role":"symbol","title":"logOut(completion:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"logOut"},{"kind":"text","text":"("},{"kind":"externalParam","text":"completion"},{"kind":"text","text":": (("},{"kind":"typeIdentifier","text":"CustomerInfo","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCCustomerInfo"},{"kind":"text","text":"?, "},{"kind":"typeIdentifier","text":"Error","preciseIdentifier":"s:s5ErrorP"},{"kind":"text","text":"?) -> "},{"kind":"typeIdentifier","text":"Void","preciseIdentifier":"s:s4Voida"},{"kind":"text","text":")?)"}],"abstract":[{"type":"text","text":"Logs out the Purchases client clearing the saved appUserID."},{"type":"text","text":" "},{"type":"text","text":"This will generate a random user id and save it in the cache."},{"type":"text","text":" "},{"type":"text","text":"If this method is called and the current user is anonymous, it will return an error."},{"type":"text","text":" "},{"type":"text","text":"See "},{"type":"reference","isActive":true,"identifier":"https:\/\/docs.revenuecat.com\/docs\/user-ids"}],"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/Purchases\/logOut(completion:)","kind":"symbol","type":"topic","url":"\/documentation\/revenuecat\/purchases\/logout(completion:)"},"doc://com.revenuecat.Purchases/documentation/RevenueCat/StoreProduct/localizedPriceString":{"role":"symbol","title":"localizedPriceString","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"localizedPriceString"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"}],"abstract":[{"type":"text","text":"The price of this product using "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/StoreProduct\/priceFormatter"},{"type":"text","text":"."}],"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/StoreProduct\/localizedPriceString","kind":"symbol","type":"topic","url":"\/documentation\/revenuecat\/storeproduct\/localizedpricestring"},"doc://com.revenuecat.Purchases/documentation/RevenueCat/Purchases":{"role":"symbol","title":"Purchases","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"Purchases"}],"abstract":[{"type":"reference","isActive":true,"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/Purchases"},{"type":"text","text":" is the main entry point of the "},{"type":"codeVoice","code":"RevenueCat"},{"type":"text","text":" SDK."},{"type":"text","text":" "},{"type":"text","text":"It provides access to all its features."}],"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/Purchases","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"Purchases"}],"url":"\/documentation\/revenuecat\/purchases"},"doc://com.revenuecat.Purchases/documentation/RevenueCat/Purchases/restorePurchases(completion:)":{"role":"symbol","title":"restorePurchases(completion:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"restorePurchases"},{"kind":"text","text":"("},{"kind":"externalParam","text":"completion"},{"kind":"text","text":": (("},{"kind":"typeIdentifier","text":"CustomerInfo","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCCustomerInfo"},{"kind":"text","text":"?, "},{"kind":"typeIdentifier","text":"Error","preciseIdentifier":"s:s5ErrorP"},{"kind":"text","text":"?) -> "},{"kind":"typeIdentifier","text":"Void","preciseIdentifier":"s:s4Voida"},{"kind":"text","text":")?)"}],"abstract":[{"type":"text","text":"This method will post all purchases associated with the current App Store account to RevenueCat and become"},{"type":"text","text":" "},{"type":"text","text":"associated with the current "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/Purchases\/appUserID"},{"type":"text","text":". If the receipt is being used by an existing user, the current"},{"type":"text","text":" "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/Purchases\/appUserID"},{"type":"text","text":" will be aliased together with the "},{"type":"codeVoice","code":"appUserID"},{"type":"text","text":" of the existing user."},{"type":"text","text":" "},{"type":"text","text":"Going forward, either "},{"type":"codeVoice","code":"appUserID"},{"type":"text","text":" will be able to reference the same user."}],"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/Purchases\/restorePurchases(completion:)","kind":"symbol","type":"topic","url":"\/documentation\/revenuecat\/purchases\/restorepurchases(completion:)"},"doc://com.revenuecat.Purchases/documentation/RevenueCat/Offering":{"role":"symbol","title":"Offering","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"Offering"}],"abstract":[{"type":"text","text":"An offering is a collection of Packages ("},{"type":"codeVoice","code":"RCPackage"},{"type":"text","text":") available for the user to purchase."},{"type":"text","text":" "},{"type":"text","text":"For more info, see "},{"type":"reference","isActive":true,"identifier":"https:\/\/docs.revenuecat.com\/docs\/entitlements"}],"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/Offering","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"Offering"}],"url":"\/documentation\/revenuecat\/offering"},"https://docs.revenuecat.com/docs/entitlements":{"title":"RevenueCat Entitlements","titleInlineContent":[{"type":"text","text":"RevenueCat Entitlements"}],"type":"link","identifier":"https:\/\/docs.revenuecat.com\/docs\/entitlements","url":"https:\/\/docs.revenuecat.com\/docs\/entitlements"},"doc://com.revenuecat.Purchases/documentation/RevenueCat/IntroEligibilityStatus":{"role":"symbol","title":"IntroEligibilityStatus","fragments":[{"kind":"keyword","text":"enum"},{"kind":"text","text":" "},{"kind":"identifier","text":"IntroEligibilityStatus"}],"abstract":[{"type":"text","text":"Enum of different possible states for intro price eligibility status."}],"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/IntroEligibilityStatus","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"IntroEligibilityStatus"}],"url":"\/documentation\/revenuecat\/introeligibilitystatus"},"https://github.com/taquitos/SPMBug":{"title":"example project","titleInlineContent":[{"type":"text","text":"example project"}],"type":"link","identifier":"https:\/\/github.com\/taquitos\/SPMBug","url":"https:\/\/github.com\/taquitos\/SPMBug"},"doc://com.revenuecat.Purchases/documentation/RevenueCat/PurchaseCompletedBlock":{"role":"symbol","title":"PurchaseCompletedBlock","fragments":[{"kind":"keyword","text":"typealias"},{"kind":"text","text":" "},{"kind":"identifier","text":"PurchaseCompletedBlock"}],"abstract":[{"type":"text","text":"Completion block for "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/Purchases\/purchase(product:completion:)"}],"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/PurchaseCompletedBlock","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"PurchaseCompletedBlock"}],"url":"\/documentation\/revenuecat\/purchasecompletedblock"},"doc://com.revenuecat.Purchases/documentation/RevenueCat/Purchases/getProducts(_:completion:)":{"role":"symbol","title":"getProducts(_:completion:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"getProducts"},{"kind":"text","text":"(["},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"kind":"text","text":"], "},{"kind":"externalParam","text":"completion"},{"kind":"text","text":": (["},{"kind":"typeIdentifier","text":"StoreProduct","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCStoreProduct"},{"kind":"text","text":"]) -> "},{"kind":"typeIdentifier","text":"Void","preciseIdentifier":"s:s4Voida"},{"kind":"text","text":")"}],"abstract":[{"type":"text","text":"Fetches the "},{"type":"codeVoice","code":"StoreProducts"},{"type":"text","text":" for your IAPs for given "},{"type":"codeVoice","code":"productIdentifiers"},{"type":"text","text":"."},{"type":"text","text":" "},{"type":"text","text":"Use this method if you arenâ€™t using "},{"type":"codeVoice","code":"getOfferings(completion:)"},{"type":"text","text":"."},{"type":"text","text":" "},{"type":"text","text":"You should use getOfferings though."}],"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/Purchases\/getProducts(_:completion:)","kind":"symbol","type":"topic","url":"\/documentation\/revenuecat\/purchases\/getproducts(_:completion:)"},"doc://com.revenuecat.Purchases/documentation/RevenueCat/Purchases/checkPromotionalDiscountEligibility(forProductDiscount:product:)":{"role":"symbol","title":"checkPromotionalDiscountEligibility(forProductDiscount:product:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"checkPromotionalDiscountEligibility"},{"kind":"text","text":"("},{"kind":"externalParam","text":"forProductDiscount"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"StoreProductDiscount","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCStoreProductDiscount"},{"kind":"text","text":", "},{"kind":"externalParam","text":"product"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"StoreProduct","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCStoreProduct"},{"kind":"text","text":") "},{"kind":"keyword","text":"async"},{"kind":"text","text":" "},{"kind":"keyword","text":"throws"},{"kind":"text","text":" -> "},{"kind":"typeIdentifier","text":"PromotionalOfferEligibility","preciseIdentifier":"c:@M@RevenueCat@E@RCPromotionalOfferEligibility"}],"abstract":[{"type":"text","text":"Use this method to find eligibility for this user for"},{"type":"text","text":" "},{"type":"reference","isActive":true,"identifier":"https:\/\/docs.revenuecat.com\/docs\/ios-subscription-offers#promotional-offers"},{"type":"text","text":"."}],"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/Purchases\/checkPromotionalDiscountEligibility(forProductDiscount:product:)","kind":"symbol","type":"topic","url":"\/documentation\/revenuecat\/purchases\/checkpromotionaldiscounteligibility(forproductdiscount:product:)"},"https://docs.revenuecat.com/docs/user-ids":{"title":"Identifying Users","titleInlineContent":[{"type":"text","text":"Identifying Users"}],"type":"link","identifier":"https:\/\/docs.revenuecat.com\/docs\/user-ids","url":"https:\/\/docs.revenuecat.com\/docs\/user-ids"},"doc://com.revenuecat.Purchases/documentation/RevenueCat/Purchases/logIn(_:completion:)":{"role":"symbol","title":"logIn(_:completion:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"logIn"},{"kind":"text","text":"("},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"kind":"text","text":", "},{"kind":"externalParam","text":"completion"},{"kind":"text","text":": ("},{"kind":"typeIdentifier","text":"CustomerInfo","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCCustomerInfo"},{"kind":"text","text":"?, "},{"kind":"typeIdentifier","text":"Bool","preciseIdentifier":"s:Sb"},{"kind":"text","text":", "},{"kind":"typeIdentifier","text":"Error","preciseIdentifier":"s:s5ErrorP"},{"kind":"text","text":"?) -> "},{"kind":"typeIdentifier","text":"Void","preciseIdentifier":"s:s4Voida"},{"kind":"text","text":")"}],"abstract":[{"type":"text","text":"This function will logIn the current user with an appUserID."}],"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/Purchases\/logIn(_:completion:)","kind":"symbol","type":"topic","url":"\/documentation\/revenuecat\/purchases\/login(_:completion:)"},"https://github.com/RevenueCat/purchases-ios/issues/new?assignees=&labels=bug&template=bug_report.md&title=":{"title":"bug reports","titleInlineContent":[{"type":"text","text":"bug reports"}],"type":"link","identifier":"https:\/\/github.com\/RevenueCat\/purchases-ios\/issues\/new?assignees=&labels=bug&template=bug_report.md&title=","url":"https:\/\/github.com\/RevenueCat\/purchases-ios\/issues\/new?assignees=&labels=bug&template=bug_report.md&title="},"doc://com.revenuecat.Purchases/documentation/RevenueCat/Purchases/purchase(product:discount:completion:)":{"role":"symbol","title":"purchase(product:discount:completion:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"purchase"},{"kind":"text","text":"("},{"kind":"externalParam","text":"product"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"StoreProduct","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCStoreProduct"},{"kind":"text","text":", "},{"kind":"externalParam","text":"discount"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"StoreProductDiscount","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCStoreProductDiscount"},{"kind":"text","text":", "},{"kind":"externalParam","text":"completion"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"PurchaseCompletedBlock","preciseIdentifier":"s:10RevenueCat22PurchaseCompletedBlocka"},{"kind":"text","text":")"}],"abstract":[{"type":"text","text":"Use this function if you are not using the Offerings system to purchase a "},{"type":"codeVoice","code":"StoreProduct"},{"type":"text","text":" with an"},{"type":"text","text":" "},{"type":"text","text":"applied "},{"type":"codeVoice","code":"StoreProductDiscount"},{"type":"text","text":"."},{"type":"text","text":" "},{"type":"text","text":"If you are using the Offerings system, use "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/Purchases\/purchase(package:discount:completion:)"},{"type":"text","text":" instead."}],"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/Purchases\/purchase(product:discount:completion:)","kind":"symbol","type":"topic","url":"\/documentation\/revenuecat\/purchases\/purchase(product:discount:completion:)"},"doc://com.revenuecat.Purchases/documentation/RevenueCat/StoreProduct/price":{"role":"symbol","title":"price","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"price"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Decimal","preciseIdentifier":"c:@SA@NSDecimal"}],"abstract":[{"type":"text","text":"The decimal representation of the cost of the product, in local currency."},{"type":"text","text":" "},{"type":"text","text":"For a string representation of the price to display to customers, use "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/StoreProduct\/localizedPriceString"},{"type":"text","text":"."}],"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/StoreProduct\/price","kind":"symbol","type":"topic","url":"\/documentation\/revenuecat\/storeproduct\/price"},"doc://com.revenuecat.Purchases/documentation/RevenueCat/StoreProduct":{"role":"symbol","title":"StoreProduct","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"StoreProduct"}],"abstract":[{"type":"text","text":"Type that provides access to all of "},{"type":"codeVoice","code":"StoreKit"},{"type":"text","text":"â€˜s product typeâ€™s properties."}],"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/StoreProduct","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"StoreProduct"}],"url":"\/documentation\/revenuecat\/storeproduct"},"doc://com.revenuecat.Purchases/documentation/RevenueCat/StoreTransaction":{"role":"symbol","title":"StoreTransaction","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"StoreTransaction"}],"abstract":[{"type":"text","text":"Abstract class that provides access to all of StoreKitâ€™s product typeâ€™s properties."}],"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/StoreTransaction","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"StoreTransaction"}],"url":"\/documentation\/revenuecat\/storetransaction"},"doc://com.revenuecat.Purchases/documentation/RevenueCat/Purchases/purchase(package:completion:)":{"role":"symbol","title":"purchase(package:completion:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"purchase"},{"kind":"text","text":"("},{"kind":"externalParam","text":"package"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Package","preciseIdentifier":"c:@M@RevenueCat@objc(cs)RCPackage"},{"kind":"text","text":", "},{"kind":"externalParam","text":"completion"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"PurchaseCompletedBlock","preciseIdentifier":"s:10RevenueCat22PurchaseCompletedBlocka"},{"kind":"text","text":")"}],"abstract":[{"type":"text","text":"Purchase the passed "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/Package"},{"type":"text","text":"."},{"type":"text","text":" "},{"type":"text","text":"Call this method when a user has decided to purchase a product. Only call this in direct response to user input."},{"type":"text","text":" "},{"type":"text","text":"From here "},{"type":"codeVoice","code":"Purchases"},{"type":"text","text":" will handle the purchase with "},{"type":"codeVoice","code":"StoreKit"},{"type":"text","text":" and call the "},{"type":"codeVoice","code":"PurchaseCompletedBlock"},{"type":"text","text":"."}],"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/Purchases\/purchase(package:completion:)","kind":"symbol","type":"topic","url":"\/documentation\/revenuecat\/purchases\/purchase(package:completion:)"},"doc://com.revenuecat.Purchases/documentation/RevenueCat/PackageType":{"role":"symbol","title":"PackageType","fragments":[{"kind":"keyword","text":"enum"},{"kind":"text","text":" "},{"kind":"identifier","text":"PackageType"}],"abstract":[],"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/PackageType","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"PackageType"}],"url":"\/documentation\/revenuecat\/packagetype"},"doc://com.revenuecat.Purchases/documentation/RevenueCat/StoreProduct/priceFormatter":{"role":"symbol","title":"priceFormatter","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"priceFormatter"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"NumberFormatter","preciseIdentifier":"c:objc(cs)NSNumberFormatter"},{"kind":"text","text":"?"}],"abstract":[{"type":"text","text":"Provides a "},{"type":"codeVoice","code":"NumberFormatter"},{"type":"text","text":", useful for formatting the price for displaying."}],"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/StoreProduct\/priceFormatter","kind":"symbol","type":"topic","url":"\/documentation\/revenuecat\/storeproduct\/priceformatter"},"doc://com.revenuecat.Purchases/documentation/RevenueCat/PeriodType":{"role":"symbol","title":"PeriodType","fragments":[{"kind":"keyword","text":"enum"},{"kind":"text","text":" "},{"kind":"identifier","text":"PeriodType"}],"abstract":[{"type":"text","text":"Enum of supported period types for an entitlement."}],"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/PeriodType","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"PeriodType"}],"url":"\/documentation\/revenuecat\/periodtype"},"doc://com.revenuecat.Purchases/documentation/RevenueCat/Store":{"role":"symbol","title":"Store","fragments":[{"kind":"keyword","text":"enum"},{"kind":"text","text":" "},{"kind":"identifier","text":"Store"}],"abstract":[{"type":"text","text":"Enum of supported stores"}],"identifier":"doc:\/\/com.revenuecat.Purchases\/documentation\/RevenueCat\/Store","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"Store"}],"url":"\/documentation\/revenuecat\/store"}}}